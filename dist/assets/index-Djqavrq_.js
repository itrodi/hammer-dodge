var $c=Object.defineProperty;var Tc=(e,t,n)=>t in e?$c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var eo=(e,t,n)=>Tc(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Jo=[{type:"constructor",inputs:[{name:"_coinImpl",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"coinImpl",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"payoutRecipient",internalType:"address",type:"address"},{name:"owners",internalType:"address[]",type:"address[]"},{name:"uri",internalType:"string",type:"string"},{name:"name",internalType:"string",type:"string"},{name:"symbol",internalType:"string",type:"string"},{name:"platformReferrer",internalType:"address",type:"address"},{name:"currency",internalType:"address",type:"address"},{name:"tickLower",internalType:"int24",type:"int24"},{name:"orderSize",internalType:"uint256",type:"uint256"}],name:"deploy",outputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"payable"},{type:"function",inputs:[],name:"implementation",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"initialOwner",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"owner",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newOwner",internalType:"address",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"event",anonymous:!1,inputs:[{name:"caller",internalType:"address",type:"address",indexed:!0},{name:"payoutRecipient",internalType:"address",type:"address",indexed:!0},{name:"platformReferrer",internalType:"address",type:"address",indexed:!0},{name:"currency",internalType:"address",type:"address",indexed:!1},{name:"uri",internalType:"string",type:"string",indexed:!1},{name:"name",internalType:"string",type:"string",indexed:!1},{name:"symbol",internalType:"string",type:"string",indexed:!1},{name:"coin",internalType:"address",type:"address",indexed:!1},{name:"pool",internalType:"address",type:"address",indexed:!1},{name:"version",internalType:"string",type:"string",indexed:!1}],name:"CoinCreated"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"previousOwner",internalType:"address",type:"address",indexed:!0},{name:"newOwner",internalType:"address",type:"address",indexed:!0}],name:"OwnershipTransferred"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"account",internalType:"address",type:"address"}],name:"AddressInsufficientBalance"},{type:"error",inputs:[],name:"ERC1167FailedCreateClone"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"ERC20TransferAmountMismatch"},{type:"error",inputs:[],name:"EthTransferInvalid"},{type:"error",inputs:[],name:"FailedInnerCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"OwnableInvalidOwner"},{type:"error",inputs:[{name:"account",internalType:"address",type:"address"}],name:"OwnableUnauthorizedAccount"},{type:"error",inputs:[],name:"ReentrancyGuardReentrantCall"},{type:"error",inputs:[{name:"token",internalType:"address",type:"address"}],name:"SafeERC20FailedOperation"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"}],Sc={8453:"0x777777751622c0d3258f214F9DF38E35BF45baF3"};const Cc="1.0.8";let le=class Sr extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Sr?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Sr&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Cc}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function je(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Qo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ei=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ti=/^\(.+?\).*?$/,to=/^tuple(?<array>(\[(\d*)\])*)$/;function Cr(e){let t=e.type;if(to.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Cr(o),s<n-1&&(t+=", ")}const r=je(to,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Cr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Rt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Cr(s),r!==n-1&&(t+=", ")}return t}function kn(e){var t;return e.type==="function"?`function ${e.name}(${Rt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Rt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Rt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Rt(e.inputs)})`:e.type==="constructor"?`constructor(${Rt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const ni=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function kc(e){return ni.test(e)}function Mc(e){return je(ni,e)}const ri=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Nc(e){return ri.test(e)}function zc(e){return je(ri,e)}const si=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Fc(e){return si.test(e)}function Oc(e){return je(si,e)}const oi=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function ds(e){return oi.test(e)}function Lc(e){return je(oi,e)}const ii=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Rc(e){return ii.test(e)}function jc(e){return je(ii,e)}const ai=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Uc(e){return ai.test(e)}function _c(e){return je(ai,e)}const Dc=/^receive\(\) external payable$/;function qc(e){return Dc.test(e)}const Gc=new Set(["indexed"]),kr=new Set(["calldata","memory","storage"]);class Hc extends le{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Vc extends le{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Wc extends le{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Zc extends le{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Kc extends le{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Xc extends le{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Yc extends le{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Jc extends le{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $t extends le{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Qc extends le{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class eu extends le{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class tu extends le{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class nu extends le{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function ru(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const fr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Mr(e,t={}){if(Fc(e))return su(e,t);if(Nc(e))return ou(e,t);if(kc(e))return iu(e,t);if(Rc(e))return au(e,t);if(Uc(e))return cu(e);if(qc(e))return{type:"receive",stateMutability:"payable"};throw new Qc({signature:e})}function su(e,t={}){const n=Oc(e);if(!n)throw new $t({signature:e,type:"function"});const r=me(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Je(r[a],{modifiers:kr,structs:t,type:"function"}));const i=[];if(n.returns){const a=me(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Je(a[u],{modifiers:kr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function ou(e,t={}){const n=zc(e);if(!n)throw new $t({signature:e,type:"event"});const r=me(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Je(r[i],{modifiers:Gc,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function iu(e,t={}){const n=Mc(e);if(!n)throw new $t({signature:e,type:"error"});const r=me(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Je(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function au(e,t={}){const n=jc(e);if(!n)throw new $t({signature:e,type:"constructor"});const r=me(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Je(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function cu(e){const t=_c(e);if(!t)throw new $t({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const uu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,du=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,lu=/^u?int$/;function Je(e,t){var l,f;const n=ru(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(fr.has(n))return fr.get(n);const r=ti.test(e),s=je(r?du:uu,e);if(!s)throw new Zc({param:e});if(s.name&&pu(s.name))throw new Kc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const p=me(s.type),y=[],m=p.length;for(let h=0;h<m;h++)y.push(Je(p[h],{structs:a}));u={components:y}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(lu.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!ci(c))throw new Wc({type:c});if(s.modifier){if(!((f=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&f.call(l,s.modifier)))throw new Xc({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(kr.has(s.modifier)&&!hu(c,!!s.array))throw new Yc({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...i,...u};return fr.set(n,d),d}function me(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?me(a,[...t,n.trim()]):me(a,t,`${n}${i}`,r);case"(":return me(a,t,`${n}${i}`,r+1);case")":return me(a,t,`${n}${i}`,r-1);default:return me(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new nu({current:n,depth:r});return t.push(n.trim()),t}function ci(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Qo.test(e)||ei.test(e)}const fu=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function pu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Qo.test(e)||ei.test(e)||fu.test(e)}function hu(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ui(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!ds(a))continue;const c=Lc(a);if(!c)throw new $t({signature:a,type:"struct"});const u=c.properties.split(";"),d=[],l=u.length;for(let f=0;f<l;f++){const y=u[f].trim();if(!y)continue;const m=Je(y,{type:"struct"});d.push(m)}if(!d.length)throw new eu({signature:a});t[c.name]=d}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=di(c,t)}return r}const mu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function di(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(ti.test(i.type))r.push(i);else{const c=je(mu,i.type);if(!(c!=null&&c.type))throw new Jc({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new tu({type:d});r.push({...i,type:`tuple${u??""}`,components:di(t[d]??[],t,new Set([...n,d]))})}else if(ci(d))r.push(i);else throw new Vc({type:d})}}return r}function li(e){const t=ui(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];ds(o)||n.push(Mr(o,t))}return n}function no(e){let t;if(typeof e=="string")t=Mr(e);else{const n=ui(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!ds(o)){t=Mr(o,n);break}}}if(!t)throw new Hc({signature:e});return t}function z(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function Fe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Tu(e.type);return`${e.name}(${Fn(e.inputs,{includeName:t})})`}function Fn(e,{includeName:t=!1}={}){return e?e.map(n=>yu(n,{includeName:t})).join(t?", ":","):""}function yu(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Fn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ae(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function H(e){return Ae(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const fi="2.24.2";let jt={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${fi}`},v=class Nr extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof Nr?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Nr&&n.cause.docsPath||n.docsPath,o=(a=jt.getDocsUrl)==null?void 0:a.call(jt,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...jt.version?[`Version: ${jt.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=fi}walk(t){return pi(this,t)}};function pi(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?pi(e.cause,t):t?null:e}class bu extends v{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ro extends v{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class hi extends v{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Fn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class fn extends v{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class gu extends v{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class wu extends v{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${H(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class xu extends v{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class mi extends v{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class vu extends v{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class yi extends v{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class so extends v{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Mn extends v{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Eu extends v{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Pu extends v{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Fe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Fe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Au=class extends v{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Vt extends v{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Fn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class On extends v{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Fe(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Bu extends v{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Iu extends v{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let $u=class extends v{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Tu extends v{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Su extends v{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let bi=class extends v{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},gi=class extends v{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class oo extends v{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Tt(e,{dir:t,size:n=32}={}){return typeof e=="string"?De(e,{dir:t,size:n}):Cu(e,{dir:t,size:n})}function De(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new gi({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Cu(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new gi({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let wi=class extends v{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class ku extends v{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Mu extends v{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Nu=class extends v{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function ye(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ge(e,{size:t}){if(H(e)>t)throw new Nu({givenSize:H(e),maxSize:t})}function oe(e,t={}){const{signed:n}=t;t.size&&ge(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function zu(e,t={}){let n=e;if(t.size&&(ge(n,{size:t.size}),n=ye(n)),ye(n)==="0x00")return!1;if(ye(n)==="0x01")return!0;throw new Mu(n)}function Be(e,t={}){return Number(oe(e,t))}const Fu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function R(e,t={}){return typeof e=="number"||typeof e=="bigint"?F(e,t):typeof e=="string"?xt(e,t):typeof e=="boolean"?xi(e,t):K(e,t)}function xi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ge(n,{size:t.size}),Tt(n,{size:t.size})):n}function K(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Fu[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ge(r,{size:t.size}),Tt(r,{dir:"right",size:t.size})):r}function F(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new wi({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Tt(a,{size:r}):a}const Ou=new TextEncoder;function xt(e,t={}){const n=Ou.encode(e);return K(n,t)}const Lu=new TextEncoder;function St(e,t={}){return typeof e=="number"||typeof e=="bigint"?ju(e,t):typeof e=="boolean"?Ru(e,t):Ae(e)?be(e,t):Ke(e,t)}function Ru(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ge(n,{size:t.size}),Tt(n,{size:t.size})):n}const Se={zero:48,nine:57,A:65,F:70,a:97,f:102};function io(e){if(e>=Se.zero&&e<=Se.nine)return e-Se.zero;if(e>=Se.A&&e<=Se.F)return e-(Se.A-10);if(e>=Se.a&&e<=Se.f)return e-(Se.a-10)}function be(e,t={}){let n=e;t.size&&(ge(n,{size:t.size}),n=Tt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=io(r.charCodeAt(a++)),u=io(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new v(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function ju(e,t){const n=F(e,t);return be(n)}function Ke(e,t={}){const n=Lu.encode(e);return typeof t.size=="number"?(ge(n,{size:t.size}),Tt(n,{dir:"right",size:t.size})):n}function Nn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Uu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function pn(e,...t){if(!Uu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function _u(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Nn(e.outputLen),Nn(e.blockLen)}function vt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function vi(e,t){pn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const An=BigInt(2**32-1),ao=BigInt(32);function Du(e,t=!1){return t?{h:Number(e&An),l:Number(e>>ao&An)}:{h:Number(e>>ao&An)|0,l:Number(e&An)|0}}function qu(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:i}=Du(e[s],t);[n[s],r[s]]=[o,i]}return[n,r]}const Gu=(e,t,n)=>e<<n|t>>>32-n,Hu=(e,t,n)=>t<<n|e>>>32-n,Vu=(e,t,n)=>t<<n-32|e>>>64-n,Wu=(e,t,n)=>e<<n-32|t>>>64-n,ft=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function pr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ve(e,t){return e<<32-t|e>>>t}const co=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ku(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function uo(e){for(let t=0;t<e.length;t++)e[t]=Ku(e[t])}function Xu(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Ln(e){return typeof e=="string"&&(e=Xu(e)),pn(e),e}function Yu(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];pn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class ls{clone(){return this._cloneInto()}}function Ei(e){const t=r=>e().update(Ln(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ju(e=32){if(ft&&typeof ft.getRandomValues=="function")return ft.getRandomValues(new Uint8Array(e));if(ft&&typeof ft.randomBytes=="function")return ft.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Pi=[],Ai=[],Bi=[],Qu=BigInt(0),Ut=BigInt(1),ed=BigInt(2),td=BigInt(7),nd=BigInt(256),rd=BigInt(113);for(let e=0,t=Ut,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Pi.push(2*(5*r+n)),Ai.push((e+1)*(e+2)/2%64);let s=Qu;for(let o=0;o<7;o++)t=(t<<Ut^(t>>td)*rd)%nd,t&ed&&(s^=Ut<<(Ut<<BigInt(o))-Ut);Bi.push(s)}const[sd,od]=qu(Bi,!0),lo=(e,t,n)=>n>32?Vu(e,t,n):Gu(e,t,n),fo=(e,t,n)=>n>32?Wu(e,t,n):Hu(e,t,n);function id(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],l=lo(u,d,1)^n[a],f=fo(u,d,1)^n[a+1];for(let p=0;p<50;p+=10)e[i+p]^=l,e[i+p+1]^=f}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Ai[i],c=lo(s,o,a),u=fo(s,o,a),d=Pi[i];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=sd[r],e[1]^=od[r]}n.fill(0)}class fs extends ls{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Nn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Zu(this.state)}keccak(){co||uo(this.state32),id(this.state32,this.rounds),co||uo(this.state32),this.posOut=0,this.pos=0}update(t){vt(this);const{blockLen:n,state:r}=this;t=Ln(t);const s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){vt(this,!1),pn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Nn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(vi(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new fs(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const ad=(e,t,n)=>Ei(()=>new fs(t,e,n)),Ii=ad(1,136,256/8);function ne(e,t){const n=t||"hex",r=Ii(Ae(e,{strict:!1})?St(e):e);return n==="bytes"?r:R(r)}const cd=e=>ne(St(e));function ud(e){return cd(e)}function dd(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new v("Unable to normalize signature.");return s}const ld=e=>{const t=typeof e=="string"?e:kn(e);return dd(t)};function $i(e){return ud(ld(e))}const Rn=$i;let ie=class extends v{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},jn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const hr=new jn(8192);function hn(e,t){if(hr.has(`${e}.${t}`))return hr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ne(Ke(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return hr.set(`${e}.${t}`,o),o}function Ti(e,t){if(!te(e,{strict:!1}))throw new ie({address:e});return hn(e,t)}const fd=/^0x[a-fA-F0-9]{40}$/,mr=new jn(8192);function te(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(mr.has(r))return mr.get(r);const s=fd.test(e)?e.toLowerCase()===e?!0:n?hn(e)===e:!0:!1;return mr.set(r,s),s}function Oe(e){return typeof e[0]=="string"?$e(e):pd(e)}function pd(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function $e(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Wt(e,t,n,{strict:r}={}){return Ae(e,{strict:!1})?Mi(e,t,n,{strict:r}):ki(e,t,n,{strict:r})}function Si(e,t){if(typeof t=="number"&&t>0&&t>H(e)-1)throw new bi({offset:t,position:"start",size:H(e)})}function Ci(e,t,n){if(typeof t=="number"&&typeof n=="number"&&H(e)!==n-t)throw new bi({offset:n,position:"end",size:H(e)})}function ki(e,t,n,{strict:r}={}){Si(e,t);const s=e.slice(t,n);return r&&Ci(s,t,n),s}function Mi(e,t,n,{strict:r}={}){Si(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ci(s,t,n),s}const hd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ni=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ct(e,t){if(e.length!==t.length)throw new xu({expectedLength:e.length,givenLength:t.length});const n=md({params:e,values:t}),r=hs(n);return r.length===0?"0x":r}function md({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(ps({param:e[r],value:t[r]}));return n}function ps({param:e,value:t}){const n=ms(e.type);if(n){const[r,s]=n;return bd(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Ed(t,{param:e});if(e.type==="address")return yd(t);if(e.type==="bool")return wd(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ni.exec(e.type)??[];return xd(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return gd(t,{param:e});if(e.type==="string")return vd(t);throw new Bu(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function hs(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=H(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(F(t+s,{size:32})),r.push(a),s+=H(a)):n.push(a)}return Oe([...n,...r])}function yd(e){if(!te(e))throw new ie({address:e});return{dynamic:!1,encoded:De(e.toLowerCase())}}function bd(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new $u(e);if(!r&&e.length!==t)throw new gu({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=ps({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=hs(o);if(r){const a=F(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Oe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Oe(o.map(({encoded:i})=>i))}}function gd(e,{param:t}){const[,n]=t.type.split("bytes"),r=H(e);if(!n){let s=e;return r%32!==0&&(s=De(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Oe([De(F(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new wu({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:De(e,{dir:"right"})}}function wd(e){if(typeof e!="boolean")throw new v(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:De(xi(e))}}function xd(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new wi({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:F(e,{size:32,signed:t})}}function vd(e){const t=xt(e),n=Math.ceil(H(t)/32),r=[];for(let s=0;s<n;s++)r.push(De(Wt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Oe([De(F(H(t),{size:32})),...r])}}function Ed(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=ps({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?hs(r):Oe(r.map(({encoded:s})=>s))}}function ms(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const ys=e=>Wt($i(e),0,4);function mn(e){const{abi:t,args:n=[],name:r}=e,s=Ae(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?ys(a)===r:a.type==="event"?Rn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in a&&a.inputs[d];return l?zr(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=zi(a.inputs,i.inputs,n);if(u)throw new Pu({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function zr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return te(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>zr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>zr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function zi(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return zi(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?te(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?te(n[r],{strict:!1}):!1)return i}}const po="/docs/contract/encodeEventTopics";function yn(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=mn({abi:t,name:n});if(!u)throw new so(n,{docsPath:po});s=u}if(s.type!=="event")throw new so(void 0,{docsPath:po});const o=Fe(s),i=Rn(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(l=>"indexed"in l&&l.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(l=>r[l.name]))??[]:[];d.length>0&&(a=(u==null?void 0:u.map((l,f)=>Array.isArray(d[f])?d[f].map((p,y)=>ho({param:l,value:d[f][y]})):typeof d[f]<"u"&&d[f]!==null?ho({param:l,value:d[f]}):null))??[])}return[i,...a]}function ho({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ne(St(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Su(e.type);return Ct([e],[t])}function Un(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function Fi(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Un(e,{method:"eth_newFilter"}),d=o?yn({abi:r,args:s,eventName:o}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?F(i):i,toBlock:typeof c=="bigint"?F(c):c,topics:d}]});return{abi:r,args:s,eventName:o,id:l,request:u(l),strict:!!a,type:"event"}}function X(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const mo="/docs/contract/encodeFunctionData";function Pd(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=mn({abi:t,args:n,name:r});if(!o)throw new Mn(r,{docsPath:mo});s=o}if(s.type!=="function")throw new Mn(void 0,{docsPath:mo});return{abi:[s],functionName:ys(Fe(s))}}function we(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:Pd(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?Ct(s.inputs,t??[]):void 0;return $e([o,i??"0x"])}const Oi={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ad={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Bd={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class yo extends v{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Li extends v{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Id extends v{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const $d={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Id({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Li({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new yo({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new yo({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function bs(e,{recursiveReadLimit:t=8192}={}){const n=Object.create($d);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Td(e,t={}){typeof t.size<"u"&&ge(e,{size:t.size});const n=K(e,t);return oe(n,t)}function Sd(e,t={}){let n=e;if(typeof t.size<"u"&&(ge(n,{size:t.size}),n=ye(n)),n.length>1||n[0]>1)throw new ku(n);return!!n[0]}function ze(e,t={}){typeof t.size<"u"&&ge(e,{size:t.size});const n=K(e,t);return Be(n,t)}function Cd(e,t={}){let n=e;return typeof t.size<"u"&&(ge(n,{size:t.size}),n=ye(n,{dir:"right"})),new TextDecoder().decode(n)}function _n(e,t){const n=typeof t=="string"?be(t):t,r=bs(n);if(H(n)===0&&e.length>0)throw new fn;if(H(t)&&H(t)<32)throw new hi({data:typeof t=="string"?t:K(t),params:e,size:H(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=gt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function gt(e,t,{staticPosition:n}){const r=ms(t.type);if(r){const[s,o]=r;return Md(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Od(e,t,{staticPosition:n});if(t.type==="address")return kd(e);if(t.type==="bool")return Nd(e);if(t.type.startsWith("bytes"))return zd(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Fd(e,t);if(t.type==="string")return Ld(e,{staticPosition:n});throw new Iu(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const bo=32,Fr=32;function kd(e){const t=e.readBytes(32);return[hn(K(ki(t,-20))),32]}function Md(e,t,{length:n,staticPosition:r}){if(!n){const i=ze(e.readBytes(Fr)),a=r+i,c=a+bo;e.setPosition(a);const u=ze(e.readBytes(bo)),d=Zt(t);let l=0;const f=[];for(let p=0;p<u;++p){e.setPosition(c+(d?p*32:l));const[y,m]=gt(e,t,{staticPosition:c});l+=m,f.push(y)}return e.setPosition(r+32),[f,32]}if(Zt(t)){const i=ze(e.readBytes(Fr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[d]=gt(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=gt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Nd(e){return[Sd(e.readBytes(32),{size:32}),32]}function zd(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=ze(e.readBytes(32));e.setPosition(n+i);const a=ze(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[K(c),32]}return[K(e.readBytes(Number.parseInt(s),32)),32]}function Fd(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Td(s,{signed:n}):ze(s,{signed:n}),32]}function Od(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Zt(t)){const i=ze(e.readBytes(Fr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[d,l]=gt(e,u,{staticPosition:a});o+=l,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=gt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function Ld(e,{staticPosition:t}){const n=ze(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ze(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Cd(ye(o));return e.setPosition(t+32),[i,32]}function Zt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Zt);const n=ms(e.type);return!!(n&&Zt({...e,type:n[1]}))}function Rd(e){const{abi:t,data:n}=e,r=Wt(n,0,4);if(r==="0x")throw new fn;const o=[...t||[],Ad,Bd].find(i=>i.type==="error"&&r===ys(Fe(i)));if(!o)throw new mi(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?_n(o.inputs,Wt(n,4)):void 0,errorName:o.name}}const ee=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Ri({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ee(t[o]):t[o]}`).join(", ")})`}const jd={gwei:9,wei:18},Ud={ether:-9,wei:9};function ji(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function gs(e,t="wei"){return ji(e,jd[t])}function ce(e,t="wei"){return ji(e,Ud[t])}class _d extends v{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Dd extends v{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function go(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function qd(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=go(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=go(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function bn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Gd extends v{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Hd extends v{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Vd extends v{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",bn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Wd extends v{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Zd extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var y;const p=bn({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${gs(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ce(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ui extends v{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class _i extends v{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Kd extends v{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Xd=e=>e,ws=e=>e;class Di extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f,stateOverride:p}){var h;const y=n?X(n):void 0;let m=bn({from:y==null?void 0:y.address,to:l,value:typeof f<"u"&&`${gs(f)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ce(u)} gwei`,nonce:d});p&&(m+=`
${qd(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Yd extends v{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=mn({abi:n,args:r,name:i}),u=c?Ri({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Fe(c,{includeName:!0}):void 0,l=bn({address:s&&Xd(s),function:d,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Or extends v{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Rd({abi:t,data:n});const{abiItem:d,errorName:l,args:f}=i;if(l==="Error")c=f[0];else if(l==="Panic"){const[p]=f;c=Oi[p]}else{const p=d?Fe(d,{includeName:!0}):void 0,y=d&&f?Ri({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",y&&y!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof mi&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Jd extends v{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Qd extends v{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Dn extends v{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Ht extends v{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${ws(i)}`,t&&`Request body: ${ee(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class xs extends v{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ws(r)}`,`Request body: ${ee(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class wo extends v{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ws(n)}`,`Request body: ${ee(t)}`],name:"TimeoutError"})}}const el=-1;class ue extends v{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof xs?t.code:n??el}}class kt extends ue{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Kt extends ue{constructor(t){super(t,{code:Kt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xt extends ue{constructor(t){super(t,{code:Xt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Yt extends ue{constructor(t,{method:n}={}){super(t,{code:Yt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jt extends ue{constructor(t){super(t,{code:Jt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Qe extends ue{constructor(t){super(t,{code:Qe.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class et extends ue{constructor(t){super(t,{code:et.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Qt extends ue{constructor(t){super(t,{code:Qt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class en extends ue{constructor(t){super(t,{code:en.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class tn extends ue{constructor(t){super(t,{code:tn.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ze extends ue{constructor(t,{method:n}={}){super(t,{code:Ze.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ze,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Et extends ue{constructor(t){super(t,{code:Et.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class nn extends ue{constructor(t){super(t,{code:nn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wt extends kt{constructor(t){super(t,{code:wt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rn extends kt{constructor(t){super(t,{code:rn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class sn extends kt{constructor(t,{method:n}={}){super(t,{code:sn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class on extends kt{constructor(t){super(t,{code:on.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class an extends kt{constructor(t){super(t,{code:an.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class cn extends kt{constructor(t){super(t,{code:cn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class tl extends ue{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const nl=3;function tt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Dn?e:e instanceof v?e.walk(y=>"data"in y)||e.walk():{},{code:c,data:u,details:d,message:l,shortMessage:f}=a,p=e instanceof fn?new Jd({functionName:o}):[nl,Qe.code].includes(c)&&(u||d||l||f)?new Or({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof xs?d:f??l}):e;return new Yd(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function rl(e){const t=ne(`0x${e.substring(4)}`).substring(26);return hn(`0x${t}`)}const sl="modulepreload",ol=function(e){return"/"+e},xo={},qi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=ol(c),c in xo)return;xo[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":sl,u||(l.as="script"),l.crossOrigin="",l.href=c,a&&l.setAttribute("nonce",a),document.head.appendChild(l),u)return new Promise((f,p)=>{l.addEventListener("load",f),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};async function il({hash:e,signature:t}){const n=Ae(e)?e:R(e),{secp256k1:r}=await qi(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Qp);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:f}=t,p=Number(f??l),y=vo(p);return new r.Signature(oe(u),oe(d)).addRecoveryBit(y)}const i=Ae(t)?t:R(t),a=Be(`0x${i.slice(130)}`),c=vo(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function vo(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Gi({hash:e,signature:t}){return rl(await il({hash:e,signature:t}))}function qe(e,t="hex"){const n=Hi(e),r=bs(new Uint8Array(n.length));return n.encode(r),t==="hex"?K(r.bytes):r.bytes}function Hi(e){return Array.isArray(e)?al(e.map(t=>Hi(t))):cl(e)}function al(e){const t=e.reduce((s,o)=>s+o.length,0),n=Vi(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function cl(e){const t=typeof e=="string"?be(e):e,n=Vi(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Vi(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new v("Length is too large.")}function ul(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=ne($e(["0x05",qe([t?F(t):"0x",s,n?F(n):"0x"])]));return r==="bytes"?be(o):o}async function Wi(e){const{authorization:t,signature:n}=e;return Gi({hash:ul(t),signature:n??t})}class dl extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var y;const p=bn({from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${gs(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ce(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ht extends v{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ht,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class nt extends v{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ce(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(nt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Lr extends v{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ce(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Lr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Rr extends v{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Rr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class jr extends v{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ur extends v{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Ur,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class _r extends v{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(_r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Dr extends v{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Dr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class qr extends v{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(qr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Gr extends v{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Gr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class un extends v{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ce(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ce(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(un,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class gn extends v{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function qn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof v?e.walk(s=>(s==null?void 0:s.code)===ht.code):e;return r instanceof v?new ht({cause:e,message:r.details}):ht.nodeMessage.test(n)?new ht({cause:e,message:e.details}):nt.nodeMessage.test(n)?new nt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Lr.nodeMessage.test(n)?new Lr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Rr.nodeMessage.test(n)?new Rr({cause:e,nonce:t==null?void 0:t.nonce}):jr.nodeMessage.test(n)?new jr({cause:e,nonce:t==null?void 0:t.nonce}):Ur.nodeMessage.test(n)?new Ur({cause:e,nonce:t==null?void 0:t.nonce}):_r.nodeMessage.test(n)?new _r({cause:e}):Dr.nodeMessage.test(n)?new Dr({cause:e,gas:t==null?void 0:t.gas}):qr.nodeMessage.test(n)?new qr({cause:e,gas:t==null?void 0:t.gas}):Gr.nodeMessage.test(n)?new Gr({cause:e}):un.nodeMessage.test(n)?new un({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new gn({cause:e})}function ll(e,{docsPath:t,...n}){const r=(()=>{const s=qn(e,n);return s instanceof gn?e:s})();return new dl(r,{docsPath:t,...n})}function Gn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function vs(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const o=t(s);if(n)for(const i of n)delete o[i];return{...o,...r(s)}},type:e})}const fl={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Mt(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=pl(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>K(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=F(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=F(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=F(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=F(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=F(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=F(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=fl[e.type]),typeof e.value<"u"&&(t.value=F(e.value)),t}function pl(e){return e.map(t=>({address:t.address,r:t.r?F(BigInt(t.r)):t.r,s:t.s?F(BigInt(t.s)):t.s,chainId:F(t.chainId),nonce:F(t.nonce),...typeof t.yParity<"u"?{yParity:F(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:F(t.v)}:{}}))}function Eo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new oo({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new oo({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function hl(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=F(t)),n!==void 0&&(i.nonce=F(n)),r!==void 0&&(i.state=Eo(r)),s!==void 0){if(i.state)throw new Dd;i.stateDiff=Eo(s)}return i}function Es(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!te(n,{strict:!1}))throw new ie({address:n});if(t[n])throw new _d({address:n});t[n]=hl(r)}return t}const Hn=2n**256n-1n;function it(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?X(t):void 0;if(i&&!te(i.address))throw new ie({address:i.address});if(o&&!te(o))throw new ie({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Gd;if(r&&r>Hn)throw new nt({maxFeePerGas:r});if(s&&r&&s>r)throw new un({maxFeePerGas:r,maxPriorityFeePerGas:s})}class ml extends v{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ps extends v{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class yl extends v{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ce(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Zi extends v{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Ki={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Vn(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Be(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Be(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ki[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=gl(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const bl=vs("transaction",Vn);function gl(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function As(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:Vn(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const wl=vs("block",As);async function Pe(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var d,l,f;const o=r??"latest",i=s??!1,a=n!==void 0?F(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||o,i]},{dedupe:!!a}),!c)throw new Zi({blockHash:t,blockNumber:n});return(((f=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.block)==null?void 0:f.format)||As)(c)}async function Bs(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function xl(e,t){return Xi(e,t)}async function Xi(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await z(e,Pe,"getBlock")({}),d=await a({block:u,client:e,request:s});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return oe(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):z(e,Pe,"getBlock")({}),z(e,Bs,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Ps;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function vl(e,t){return Hr(e,t)}async function Hr(e,t){var f,p;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var y,m;return typeof((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(i<1)throw new ml;const c=10**(((f=i.toString().split(".")[1])==null?void 0:f.length)??0),u=y=>y*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await z(e,Pe,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const y=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(y!==null)return y}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Ps;const y=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Xi(e,{block:d,chain:r,request:s}),m=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+y,maxPriorityFeePerGas:y}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await z(e,Bs,"getGasPrice")({}))}}async function Is(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?F(r):n]},{dedupe:!!r});return Be(s)}function $s(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>be(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>K(o))}function Ts(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>be(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>be(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>K(i))}function El(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Pl(e,t,n){return e&t^~e&n}function Al(e,t,n){return e&t^e&n^t&n}class Bl extends ls{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=pr(this.buffer)}update(t){vt(this);const{view:n,buffer:r,blockLen:s}=this;t=Ln(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=pr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){vt(this),vi(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;El(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=pr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,d[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}}const Il=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ue=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_e=new Uint32Array(64);class $l extends Bl{constructor(){super(64,32,8,!1),this.A=Ue[0]|0,this.B=Ue[1]|0,this.C=Ue[2]|0,this.D=Ue[3]|0,this.E=Ue[4]|0,this.F=Ue[5]|0,this.G=Ue[6]|0,this.H=Ue[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)_e[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const f=_e[l-15],p=_e[l-2],y=ve(f,7)^ve(f,18)^f>>>3,m=ve(p,17)^ve(p,19)^p>>>10;_e[l]=m+_e[l-7]+y+_e[l-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:d}=this;for(let l=0;l<64;l++){const f=ve(a,6)^ve(a,11)^ve(a,25),p=d+f+Pl(a,c,u)+Il[l]+_e[l]|0,m=(ve(r,2)^ve(r,13)^ve(r,22))+Al(r,s,o)|0;d=u,u=c,c=a,a=i+p|0,i=o,o=s,s=r,r=p+m|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,c,u,d)}roundClean(){_e.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Yi=Ei(()=>new $l);function Tl(e,t){return Yi(Ae(e,{strict:!1})?St(e):e)}function Sl(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Tl(t);return s.set([n],0),r==="bytes"?s:K(s)}function Ji(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Sl({commitment:o,to:r,version:n}));return s}const Po=6,Qi=32,Ss=4096,ea=Qi*Ss,Ao=ea*Po-1-1*Ss*Po,ta=1;class Cl extends v{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class na extends v{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class kl extends v{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Ml extends v{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${ta}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Nl(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?be(e.data):e.data,r=H(n);if(!r)throw new na;if(r>Ao)throw new Cl({maxSize:Ao,size:r});const s=[];let o=!0,i=0;for(;o;){const a=bs(new Uint8Array(ea));let c=0;for(;c<Ss;){const u=n.slice(i,i+(Qi-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>K(a.bytes))}function ra(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Nl({data:t,to:r}),o=e.commitments??$s({blobs:s,kzg:n,to:r}),i=e.proofs??Ts({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function sa(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Vd({transaction:e})}async function Nt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Be(t)}const oa=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Bo=new Map;async function Wn(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=oa,type:d}=t,l=n&&X(n),f={...t,...l?{from:l==null?void 0:l.address}:{}};let p;async function y(){return p||(p=await z(e,Pe,"getBlock")({blockTag:"latest"}),p)}let m;async function h(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await z(e,Nt,"getChainId")({}),m))}if(u.includes("nonce")&&typeof a>"u"&&l)if(c){const b=await h();f.nonce=await c.consume({address:l.address,chainId:b,client:e})}else f.nonce=await z(e,Is,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const b=$s({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const g=Ji({commitments:b,to:"hex"});f.blobVersionedHashes=g}if(u.includes("sidecars")){const g=Ts({blobs:r,commitments:b,kzg:i}),w=ra({blobs:r,commitments:b,proofs:g,to:"hex"});f.sidecars=w}}if(u.includes("chainId")&&(f.chainId=await h()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{f.type=sa(f)}catch{let b=Bo.get(e.uid);if(typeof b>"u"){const g=await y();b=typeof(g==null?void 0:g.baseFeePerGas)=="bigint",Bo.set(e.uid,b)}f.type=b?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const b=await y(),{maxFeePerGas:g,maxPriorityFeePerGas:w}=await Hr(e,{block:b,chain:s,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new yl({maxPriorityFeePerGas:w});f.maxPriorityFeePerGas=w,f.maxFeePerGas=g}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ps;if(typeof t.gasPrice>"u"){const b=await y(),{gasPrice:g}=await Hr(e,{block:b,chain:s,request:f,type:"legacy"});f.gasPrice=g}}return u.includes("gas")&&typeof o>"u"&&(f.gas=await z(e,Cs,"estimateGas")({...f,account:l&&{address:l.address,type:"json-rpc"}})),it(f),delete f.parameters,f}async function ia(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?F(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Cs(e,t){var s,o,i;const{account:n=e.account}=t,r=n?X(n):void 0;try{let T=function(k){const{block:O,request:L,rpcStateOverride:S}=k;return e.request({method:"eth_estimateGas",params:S?[L,O??"latest",S]:O?[L,O]:[L]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:d,blockNumber:l,blockTag:f,data:p,gas:y,gasPrice:m,maxFeePerBlobGas:h,maxFeePerGas:b,maxPriorityFeePerGas:g,nonce:w,value:E,stateOverride:$,...A}=await Wn(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),I=(l?F(l):void 0)||f,B=Es($),j=await(async()=>{if(A.to)return A.to;if(c&&c.length>0)return await Wi({authorization:c[0]}).catch(()=>{throw new v("`to` is required. Could not infer from `authorizationList`")})})();it(t);const M=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,U=(M||Mt)({...Gn(A,{format:M}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:d,data:p,gas:y,gasPrice:m,maxFeePerBlobGas:h,maxFeePerGas:b,maxPriorityFeePerGas:g,nonce:w,to:j,value:E});let C=BigInt(await T({block:I,request:U,rpcStateOverride:B}));if(c){const k=await ia(e,{address:U.from}),O=await Promise.all(c.map(async L=>{const{address:S}=L,_=await T({block:I,request:{authorizationList:void 0,data:p,from:r==null?void 0:r.address,to:S,value:F(k)},rpcStateOverride:B}).catch(()=>100000n);return 2n*BigInt(_)}));C+=O.reduce((L,S)=>L+S,0n)}return C}catch(a){throw ll(a,{...t,account:r,chain:e.chain})}}async function zl(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=we({abi:n,args:s,functionName:o});try{return await z(e,Cs,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const d=a.account?X(a.account):void 0;throw tt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d==null?void 0:d.address})}}function Zn(e,t){if(!te(e,{strict:!1}))throw new ie({address:e});if(!te(t,{strict:!1}))throw new ie({address:t});return e.toLowerCase()===t.toLowerCase()}const Io="/docs/contract/decodeEventLog";function ks(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new vu({docsPath:Io});const c=t.length===1?t[0]:t.find(m=>m.type==="event"&&i===Rn(Fe(m)));if(!(c&&"name"in c)||c.type!=="event")throw new yi(i,{docsPath:Io});const{name:u,inputs:d}=c,l=d==null?void 0:d.some(m=>!("name"in m&&m.name));let f=l?[]:{};const p=d.filter(m=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){const h=p[m],b=a[m];if(!b)throw new On({abiItem:c,param:h});f[l?m:h.name||m]=Fl({param:h,value:b})}const y=d.filter(m=>!("indexed"in m&&m.indexed));if(y.length>0){if(n&&n!=="0x")try{const m=_n(y,n);if(m)if(l)f=[...f,...m];else for(let h=0;h<y.length;h++)f[y[h].name]=m[h]}catch(m){if(o)throw m instanceof hi||m instanceof Li?new Vt({abiItem:c,data:n,params:y,size:H(n)}):m}else if(o)throw new Vt({abiItem:c,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Fl({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(_n([e],t)||[])[0]}function Kn(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var a;try{const c=t.find(d=>d.type==="event"&&i.topics[0]===Rn(d));if(!c)return null;const u=ks({...i,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!Ol({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,d;if(c instanceof yi)return null;if(c instanceof Vt||c instanceof On){if(s)return null;u=c.abiItem.name,d=(a=c.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return{...i,args:d?[]:{},eventName:u}}}).filter(Boolean)}function Ol(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Zn(i,a):o.type==="string"||o.type==="bytes"?ne(St(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Le(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Ms(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,d=i??(o?[o]:void 0);let l=[];d&&(l=[d.flatMap(m=>yn({abi:[m],eventName:m.name,args:i?void 0:a}))],o&&(l=l[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?F(r):r,toBlock:typeof s=="bigint"?F(s):s}]});const p=f.map(y=>Le(y));return d?Kn({abi:d,args:a,logs:p,strict:u}):p}async function aa(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,d=i?mn({abi:n,name:i}):void 0,l=d?void 0:n.filter(f=>f.type==="event");return z(e,Ms,"getLogs")({address:r,args:s,blockHash:o,event:d,events:l,fromBlock:a,toBlock:c,strict:u})}const yr="/docs/contract/decodeFunctionResult";function at(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=mn({abi:t,args:n,name:r});if(!a)throw new Mn(r,{docsPath:yr});o=a}if(o.type!=="function")throw new Mn(void 0,{docsPath:yr});if(!o.outputs)throw new Eu(o.name,{docsPath:yr});const i=_n(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Vr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],ca=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],ua=[...ca,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ll=[...ca,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],$o=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],To=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],So=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Rl="0x82ad56cb",da="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",jl="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ul="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class Wr extends v{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class _l extends v{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Dl extends v{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class la extends v{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Xn extends v{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const br="/docs/contract/encodeDeployData";function Yn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new bu({docsPath:br});if(!("inputs"in s))throw new ro({docsPath:br});if(!s.inputs||s.inputs.length===0)throw new ro({docsPath:br});const o=Ct(s.inputs,n);return $e([r,o])}function zt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Wr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Wr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function fa(e,{docsPath:t,...n}){const r=(()=>{const s=qn(e,n);return s instanceof gn?e:s})();return new Di(r,{docsPath:t,...n})}function pa(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const gr=new Map;function ha({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();i();const l=d.map(({args:f})=>f);l.length!==0&&e(l).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let p=0;p<d.length;p++){const{resolve:y}=d[p];y==null||y([f[p],f])}}).catch(f=>{for(let p=0;p<d.length;p++){const{reject:y}=d[p];y==null||y(f)}})},i=()=>gr.delete(t),a=()=>c().map(({args:d})=>d),c=()=>gr.get(t)||[],u=d=>gr.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:l,resolve:f,reject:p}=pa();return(n==null?void 0:n([...a(),d]))&&o(),c().length>0?(u({args:d,resolve:f,reject:p}),l):(u({args:d,resolve:f,reject:p}),setTimeout(o,r),l)}}}async function Jn(e,t){var M,N,U,T;const{account:n=e.account,batch:r=!!((M=e.batch)!=null&&M.multicall),blockNumber:s,blockTag:o="latest",accessList:i,blobs:a,code:c,data:u,factory:d,factoryData:l,gas:f,gasPrice:p,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:b,to:g,value:w,stateOverride:E,...$}=t,A=n?X(n):void 0;if(c&&(d||l))throw new v("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&g)throw new v("Cannot provide both `code` & `to` as parameters.");const P=c&&u,I=d&&l&&g&&u,B=P||I,j=P?Hl({code:c,data:u}):I?Vl({data:u,factory:d,factoryData:l,to:g}):u;try{it(t);const k=(s?F(s):void 0)||o,O=Es(E),L=(T=(U=(N=e.chain)==null?void 0:N.formatters)==null?void 0:U.transactionRequest)==null?void 0:T.format,_=(L||Mt)({...Gn($,{format:L}),from:A==null?void 0:A.address,accessList:i,blobs:a,data:j,gas:f,gasPrice:p,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:b,to:B?void 0:g,value:w});if(r&&ql({request:_})&&!O)try{return await Gl(e,{..._,blockNumber:s,blockTag:o})}catch(Y){if(!(Y instanceof la)&&!(Y instanceof Wr))throw Y}const q=await e.request({method:"eth_call",params:O?[_,k,O]:[_,k]});return q==="0x"?{data:void 0}:{data:q}}catch(C){const k=Wl(C),{offchainLookup:O,offchainLookupSignature:L}=await qi(async()=>{const{offchainLookup:S,offchainLookupSignature:_}=await import("./ccip-BH8-dvoC.js");return{offchainLookup:S,offchainLookupSignature:_}},[]);if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===L&&g)return{data:await O(e,{data:k,to:g})};throw B&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new Qd({factory:d}):fa(C,{...t,account:A,chain:e.chain})}}function ql({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Rl)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Gl(e,t){var m;const{batchSize:n=1024,wait:r=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:i,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new la;u=zt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const l=(s?F(s):void 0)||o,{schedule:f}=ha({id:`${e.uid}.${l}`,wait:r,shouldSplitBatch(h){return h.reduce((g,{data:w})=>g+(w.length-2),0)>n*2},fn:async h=>{const b=h.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),g=we({abi:Vr,args:[b],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:g,to:u},l]});return at({abi:Vr,args:[b],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:p,success:y}]=await f({data:i,to:c});if(!y)throw new Dn({data:p});return p==="0x"?{data:void 0}:{data:p}}function Hl(e){const{code:t,data:n}=e;return Yn({abi:li(["constructor(bytes, bytes)"]),bytecode:da,args:[t,n]})}function Vl(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Yn({abi:li(["constructor(address, bytes, address, bytes)"]),bytecode:jl,args:[s,t,n,r]})}function Wl(e){var n;if(!(e instanceof v))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Re(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=we({abi:n,args:s,functionName:o});try{const{data:c}=await z(e,Jn,"call")({...i,data:a,to:r});return at({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw tt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Zl(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?X(a.account):e.account,u=we({abi:n,args:s,functionName:i});try{const{data:d}=await z(e,Jn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),l=at({abi:n,args:s,functionName:i,data:d||"0x"}),f=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:l,request:{abi:f,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(d){throw tt(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const wr=new Map,Co=new Map;let Kl=0;function Ge(e,t,n){const r=++Kl,s=()=>wr.get(e)||[],o=()=>{const d=s();wr.set(e,d.filter(l=>l.id!==r))},i=()=>{const d=s();if(!d.some(f=>f.id===r))return;const l=Co.get(e);d.length===1&&l&&l(),o()},a=s();if(wr.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const d in t)c[d]=(...l)=>{var p,y;const f=s();if(f.length!==0)for(const m of f)(y=(p=m.fns)[d])==null||y.call(p,...l)};const u=n(c);return typeof u=="function"&&Co.set(e,u),i}async function Zr(e){return new Promise(t=>setTimeout(t,e))}function wn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await Zr(c);const u=async()=>{s&&(await e({unpoll:o}),await Zr(r),u())};u()})(),o}const Xl=new Map,Yl=new Map;function Jl(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Xl),r=t(e,Yl);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Ql(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Jl(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const ef=e=>`blockNumber.${e}`;async function xn(e,{cacheTime:t=e.cacheTime}={}){const n=await Ql(()=>e.request({method:"eth_blockNumber"}),{cacheKey:ef(e.uid),cacheTime:t});return BigInt(n)}async function Qn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Le(o));return!("abi"in t)||!t.abi?s:Kn({abi:t.abi,logs:s,strict:n})}async function er(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function tf(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const h=f??!1,b=ee(["watchContractEvent",r,s,o,e.uid,i,l,h,a]);return Ge(b,{onLogs:u,onError:c},g=>{let w;a!==void 0&&(w=a-1n);let E,$=!1;const A=wn(async()=>{var P;if(!$){try{E=await z(e,Fi,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:h,fromBlock:a})}catch{}$=!0;return}try{let I;if(E)I=await z(e,Qn,"getFilterChanges")({filter:E});else{const B=await z(e,xn,"getBlockNumber")({});w&&w<B?I=await z(e,aa,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:B,strict:h}):I=[],w=B}if(I.length===0)return;if(o)g.onLogs(I);else for(const B of I)g.onLogs([B])}catch(I){E&&I instanceof et&&($=!1),(P=g.onError)==null||P.call(g,I)}},{emitOnBegin:!0,interval:l});return async()=>{E&&await z(e,er,"uninstallFilter")({filter:E}),A()}})})():(()=>{const h=f??!1,b=ee(["watchContractEvent",r,s,o,e.uid,i,l,h]);let g=!0,w=()=>g=!1;return Ge(b,{onLogs:u,onError:c},E=>((async()=>{try{const $=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(B=>B.config.type==="webSocket");return I?I.value:e.transport}return e.transport})(),A=i?yn({abi:n,eventName:i,args:s}):[],{unsubscribe:P}=await $.subscribe({params:["logs",{address:r,topics:A}],onData(I){var j;if(!g)return;const B=I.result;try{const{eventName:M,args:N}=ks({abi:n,data:B.data,topics:B.topics,strict:f}),U=Le(B,{args:N,eventName:M});E.onLogs([U])}catch(M){let N,U;if(M instanceof Vt||M instanceof On){if(f)return;N=M.abiItem.name,U=(j=M.abiItem.inputs)==null?void 0:j.some(C=>!("name"in C&&C.name))}const T=Le(B,{args:U?[]:{},eventName:N});E.onLogs([T])}},onError(I){var B;(B=E.onError)==null||B.call(E,I)}});w=P,g||w()}catch($){c==null||c($)}})(),()=>w()))})()}class ct extends v{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Sn extends v{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function ma({chain:e,currentChainId:t}){if(!e)throw new Dl;if(t!==e.id)throw new _l({chain:e,currentChainId:t})}function nf(e,{docsPath:t,...n}){const r=(()=>{const s=qn(e,n);return s instanceof gn?e:s})();return new Zd(r,{docsPath:t,...n})}async function Ns(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const xr=new jn(128);async function zs(e,t){var b,g,w,E;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:o,blobs:i,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,value:y,...m}=t;if(typeof n>"u")throw new ct({docsPath:"/docs/actions/wallet/sendTransaction"});const h=n?X(n):null;try{it(t);const $=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await Wi({authorization:o[0]}).catch(()=>{throw new v("`to` is required. Could not infer from `authorizationList`.")})})();if((h==null?void 0:h.type)==="json-rpc"||h===null){let A;r!==null&&(A=await z(e,Nt,"getChainId")({}),ma({currentChainId:A,chain:r}));const P=(w=(g=(b=e.chain)==null?void 0:b.formatters)==null?void 0:g.transactionRequest)==null?void 0:w.format,B=(P||Mt)({...Gn(m,{format:P}),accessList:s,authorizationList:o,blobs:i,chainId:A,data:a,from:h==null?void 0:h.address,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,to:$,value:y}),j=xr.get(e.uid),M=j?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:M,params:[B]},{retryCount:0})}catch(N){if(j===!1)throw N;const U=N;if(U.name==="InvalidInputRpcError"||U.name==="InvalidParamsRpcError"||U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(T=>(xr.set(e.uid,!0),T)).catch(T=>{const C=T;throw C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError"?(xr.set(e.uid,!1),U):C});throw U}}if((h==null?void 0:h.type)==="local"){const A=await z(e,Wn,"prepareTransactionRequest")({account:h,accessList:s,authorizationList:o,blobs:i,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,nonceManager:h.nonceManager,parameters:[...oa,"sidecars"],value:y,...m,to:$}),P=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,I=await h.signTransaction(A,{serializer:P});return await z(e,Ns,"sendRawTransaction")({serializedTransaction:I})}throw(h==null?void 0:h.type)==="smart"?new Sn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Sn({docsPath:"/docs/actions/wallet/sendTransaction",type:h==null?void 0:h.type})}catch($){throw $ instanceof Sn?$:nf($,{...t,account:h,chain:t.chain||void 0})}}async function rf(e,t){const{abi:n,account:r=e.account,address:s,args:o,dataSuffix:i,functionName:a,...c}=t;if(typeof r>"u")throw new ct({docsPath:"/docs/contract/writeContract"});const u=r?X(r):null,d=we({abi:n,args:o,functionName:a});try{return await z(e,zs,"sendTransaction")({data:`${d}${i?i.replace("0x",""):""}`,to:s,account:u,...c})}catch(l){throw tt(l,{abi:n,address:s,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:u==null?void 0:u.address})}}class sf extends v{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function of(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,d,l]=await z(e,Re,"readContract")({abi:af,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:d},extensions:l,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new sf({address:n}):i}}const af=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function cf(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:F(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}const Kr=256;let Bn=Kr,In;function ya(e=11){if(!In||Bn+e>Kr*2){In="",Bn=0;for(let t=0;t<Kr;t++)In+=(256+Math.random()*256|0).toString(16).substring(1)}return In.substring(Bn,Bn+++e)}function ba(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:i=4e3,type:a="base"}=e,c=e.chain,u=e.account?X(e.account):void 0,{config:d,request:l,value:f}=e.transport({chain:c,pollingInterval:i}),p={...d,...f},y={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:o,pollingInterval:i,request:l,transport:p,type:a,uid:ya()};function m(h){return b=>{const g=b(h);for(const E in y)delete g[E];const w={...h,...g};return Object.assign(w,{extend:m(w)})}}return Object.assign(y,{extend:m(y)})}const $n=new jn(8192);function uf(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if($n.get(n))return $n.get(n);const r=e().finally(()=>$n.delete(n));return $n.set(n,r),r}function Xr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await Zr(d),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function df(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((l=o==null?void 0:o.exclude)!=null&&l.includes(u))throw new Ze(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new Ze(new Error("method not supported"),{method:u});const d=s?xt(`${c}.${ee(n)}`):void 0;return uf(()=>Xr(async()=>{try{return await e(n)}catch(f){const p=f;switch(p.code){case Kt.code:throw new Kt(p);case Xt.code:throw new Xt(p);case Yt.code:throw new Yt(p,{method:n.method});case Jt.code:throw new Jt(p);case Qe.code:throw new Qe(p);case et.code:throw new et(p);case Qt.code:throw new Qt(p);case en.code:throw new en(p);case tn.code:throw new tn(p);case Ze.code:throw new Ze(p,{method:n.method});case Et.code:throw new Et(p);case nn.code:throw new nn(p);case wt.code:throw new wt(p);case rn.code:throw new rn(p);case sn.code:throw new sn(p);case on.code:throw new on(p);case an.code:throw new an(p);case cn.code:throw new cn(p);case 5e3:throw new wt(p);default:throw f instanceof v?f:new tl(p)}}},{delay:({count:f,error:p})=>{var y;if(p&&p instanceof Ht){const m=(y=p==null?void 0:p.headers)==null?void 0:y.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<f)*i},retryCount:a,shouldRetry:({error:f})=>lf(f)}),{enabled:s,id:d})}}function lf(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Et.code||e.code===Qe.code:e instanceof Ht&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ga({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=ya();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:df(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function ff(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>ga({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}function pf(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function hf(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ko=hf();function mf(e,t={}){return{async request(n){var l;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:d}=a;try{const f=await pf(async({signal:y})=>{const m={...a,body:Array.isArray(r)?ee(r.map(w=>({jsonrpc:"2.0",id:w.id??ko.take(),...w}))):ee({jsonrpc:"2.0",id:r.id??ko.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:d||(i>0?y:null)},h=new Request(e,m),b=await(s==null?void 0:s(h,m))??{...m,url:e};return await fetch(b.url??e,b)},{errorInstance:new wo({body:r,url:e}),timeout:i,signal:!0});o&&await o(f);let p;if((l=f.headers.get("Content-Type"))!=null&&l.startsWith("application/json"))p=await f.json();else{p=await f.text();try{p=JSON.parse(p||"{}")}catch(y){if(f.ok)throw y;p={error:p}}}if(!f.ok)throw new Ht({body:r,details:ee(p.error)||f.statusText,headers:f.headers,status:f.status,url:e});return p}catch(f){throw f instanceof Ht||f instanceof wo?f:new Ht({body:r,cause:f,url:e})}}}}function yf(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:o,name:i="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:d}=t;return({chain:l,retryCount:f,timeout:p})=>{const{batchSize:y=1e3,wait:m=0}=typeof n=="object"?n:{},h=t.retryCount??f,b=p??t.timeout??1e4,g=e,w=mf(g,{fetchOptions:r,onRequest:a,onResponse:c,timeout:b});return ga({key:s,methods:o,name:i,async request({method:E,params:$}){const A={method:E,params:$},{schedule:P}=ha({id:g,wait:m,shouldSplitBatch(M){return M.length>y},fn:M=>w.request({body:M}),sort:(M,N)=>M.id-N.id}),I=async M=>n?P(M):[await w.request({body:M})],[{error:B,result:j}]=await I(A);if(d)return{error:B,result:j};if(B)throw new xs({body:A,error:B,url:g});return j},retryCount:h,retryDelay:u,timeout:b,type:"http"},{fetchOptions:r,url:g})}}function Fs(e,t){var r,s,o,i,a,c;if(!(e instanceof v))return!1;const n=e.walk(u=>u instanceof Or);return n instanceof Or?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((i=n.data)==null?void 0:i.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Oi[50]):!1}function wa(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ae(t)?t:null}function Cn(e){let t=new Uint8Array(32).fill(0);if(!e)return K(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=wa(n[r]),o=s?St(s):ne(Ke(n[r]),"bytes");t=ne(Oe([t,o]),"bytes")}return K(t)}function bf(e){return`[${e.slice(2)}]`}function gf(e){const t=new Uint8Array(32).fill(0);return e?wa(e)||ne(Ke(e)):K(t)}function tr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ke(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Ke(s[o]);i.byteLength>255&&(i=Ke(bf(gf(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function wf(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=zt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=we({abi:To,functionName:"addr",...r!=null?{args:[Cn(s),BigInt(r)]}:{args:[Cn(s)]}}),d={address:c,abi:ua,functionName:"resolve",args:[R(tr(s)),u],blockNumber:t,blockTag:n},l=z(e,Re,"readContract"),f=o?await l({...d,args:[...d.args,o]}):await l(d);if(f[0]==="0x")return null;const p=at({abi:To,args:r!=null?[Cn(s),BigInt(r)]:void 0,functionName:"addr",data:f[0]});return p==="0x"||ye(p)==="0x00"?null:p}catch(u){if(i)throw u;if(Fs(u,"resolve"))return null;throw u}}class xf extends v{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class _t extends v{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Os extends v{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class vf extends v{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Ef=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Pf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Af=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Bf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function If(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Mo(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function xa({uri:e,gatewayUrls:t}){const n=Af.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Mo(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Mo(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Ef),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=i==="ipns:/"||a==="ipns/",l=i==="ipfs:/"||a==="ipfs/"||Pf.test(e);if(e.startsWith("http")&&!d&&!l){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Bf,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Os({uri:e})}function va(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new xf({data:e});return e.image||e.image_url||e.image_data}async function $f({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ls({gatewayUrls:e,uri:va(n)})}catch{throw new Os({uri:t})}}async function Ls({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=xa({uri:t,gatewayUrls:e});if(r||await If(n))return n;throw new Os({uri:t})}function Tf(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new _t({reason:"Only EIP-155 supported"});if(!i)throw new _t({reason:"Chain ID not found"});if(!c)throw new _t({reason:"Contract address not found"});if(!s)throw new _t({reason:"Token ID not found"});if(!a)throw new _t({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Sf(e,{nft:t}){if(t.namespace==="erc721")return Re(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Re(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new vf({namespace:t.namespace})}async function Cf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?kf(e,{gatewayUrls:t,record:n}):Ls({uri:n,gatewayUrls:t})}async function kf(e,{gatewayUrls:t,record:n}){const r=Tf(n),s=await Sf(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=xa({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return Ls({uri:va(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),$f({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Ea(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=zt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:ua,functionName:"resolve",args:[R(tr(r)),we({abi:$o,functionName:"text",args:[Cn(r),s]})],blockNumber:t,blockTag:n},d=z(e,Re,"readContract"),l=o?await d({...u,args:[...u.args,o]}):await d(u);if(l[0]==="0x")return null;const f=at({abi:$o,functionName:"text",data:l[0]});return f===""?null:f}catch(u){if(i)throw u;if(Fs(u,"resolve"))return null;throw u}}async function Mf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await z(e,Ea,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Cf(e,{record:c,gatewayUrls:r})}catch{return null}}async function Nf(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=zt({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:Ll,functionName:"reverse",args:[R(tr(c))],blockNumber:n,blockTag:r},d=z(e,Re,"readContract"),[l,f]=s?await d({...u,args:[...u.args,s]}):await d(u);return t.toLowerCase()!==f.toLowerCase()?null:l}catch(u){if(o)throw u;if(Fs(u,"reverse"))return null;throw u}}async function zf(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=zt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await z(e,Re,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[R(tr(r))],blockNumber:t,blockTag:n});return i}async function Pa(e,t){var h,b,g;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p,...y}=t,m=n?X(n):void 0;try{it(t);const E=(r?F(r):void 0)||s,$=(g=(b=(h=e.chain)==null?void 0:h.formatters)==null?void 0:b.transactionRequest)==null?void 0:g.format,P=($||Mt)({...Gn(y,{format:$}),from:m==null?void 0:m.address,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p}),I=await e.request({method:"eth_createAccessList",params:[P,E]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(w){throw fa(w,{...t,account:m,chain:e.chain})}}async function Ff(e){const t=Un(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Aa(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Un(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>yn({abi:[p],eventName:p.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?F(o):o,toBlock:typeof a=="bigint"?F(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:l,request:u(l),strict:!!i,toBlock:a,type:"event"}}async function Ba(e){const t=Un(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Of(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Lf(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?F(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Be(o)}async function No(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?F(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Rf(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function jf(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?F(n):void 0,i=await e.request({method:"eth_feeHistory",params:[F(t),o||r,s]},{dedupe:!!o});return Rf(i)}async function Uf(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Le(o));return t.abi?Kn({abi:t.abi,logs:s,strict:n}):s}function Ia(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}class _f extends v{constructor({domain:t}){super(`Invalid domain "${ee(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Df extends v{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class qf extends v{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Gf(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Ma({domain:t}),...e.types};ka({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Hf({domain:t,types:s})),r!=="EIP712Domain"&&o.push($a({data:n,primaryType:r,types:s})),ne(Oe(o))}function Hf({domain:e,types:t}){return $a({data:e,primaryType:"EIP712Domain",types:t})}function $a({data:e,primaryType:t,types:n}){const r=Ta({data:e,primaryType:t,types:n});return ne(r)}function Ta({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Vf({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Ca({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Ct(r,s)}function Vf({primaryType:e,types:t}){const n=R(Wf({primaryType:e,types:t}));return ne(n)}function Wf({primaryType:e,types:t}){let n="";const r=Sa({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Sa({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Sa({primaryType:o.type,types:t},n);return n}function Ca({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ne(Ta({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ne(r)];if(n==="string")return[{type:"bytes32"},ne(R(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Ca({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ne(Ct(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function Zf(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const d={...u};for(const l of c){const{name:f,type:p}=l;p==="address"&&(d[f]=d[f].toLowerCase())}return d},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return ee({domain:i,message:a,primaryType:r,types:s})}function ka(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:d}=c,l=a[u],f=d.match(Ni);if(f&&(typeof l=="number"||typeof l=="bigint")){const[m,h,b]=f;F(l,{signed:h==="int",size:Number.parseInt(b)/8})}if(d==="address"&&typeof l=="string"&&!te(l))throw new ie({address:l});const p=d.match(hd);if(p){const[m,h]=p;if(h&&H(l)!==Number.parseInt(h))throw new Au({expectedSize:Number.parseInt(h),givenSize:H(l)})}const y=s[d];y&&(Kf(d),o(y,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new _f({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Df({primaryType:r,types:s})}function Ma({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Kf(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new qf({type:e})}function Xf(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!te(s))throw new ie({address:s});if(r<0)throw new Xn({chainId:r})}Rs(e)}function Yf(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new na;for(const n of t){const r=H(n),s=Be(Wt(n,0,1));if(r!==32)throw new kl({hash:n,size:r});if(s!==ta)throw new Ml({hash:n,version:s})}}Rs(e)}function Rs(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Xn({chainId:t});if(s&&!te(s))throw new ie({address:s});if(r&&r>Hn)throw new nt({maxFeePerGas:r});if(n&&r&&n>r)throw new un({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Jf(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new Xn({chainId:t});if(o&&!te(o))throw new ie({address:o});if(n||s)throw new v("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Hn)throw new nt({maxFeePerGas:r})}function Qf(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!te(o))throw new ie({address:o});if(typeof t<"u"&&t<=0)throw new Xn({chainId:t});if(n||s)throw new v("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Hn)throw new nt({maxFeePerGas:r})}function nr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new Wd({storageKey:s[o]});if(!te(r,{strict:!1}))throw new ie({address:r});t.push([r,s])}return t}function e0(e,t){const n=sa(e);return n==="eip1559"?r0(e,t):n==="eip2930"?s0(e,t):n==="eip4844"?n0(e,t):n==="eip7702"?t0(e,t):o0(e,t)}function t0(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;Xf(e);const f=nr(d),p=i0(n);return $e(["0x04",qe([R(r),o?R(o):"0x",u?R(u):"0x",c?R(c):"0x",s?R(s):"0x",i??"0x",a?R(a):"0x",l??"0x",f,p,...vn(e,t)])])}function n0(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;Yf(e);let f=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof f>"u"||typeof p>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(A=>K(A)),E=e.kzg,$=$s({blobs:w,kzg:E});if(typeof f>"u"&&(f=Ji({commitments:$})),typeof p>"u"){const A=Ts({blobs:w,commitments:$,kzg:E});p=ra({blobs:w,commitments:$,proofs:A})}}const y=nr(d),m=[R(n),s?R(s):"0x",u?R(u):"0x",c?R(c):"0x",r?R(r):"0x",o??"0x",i?R(i):"0x",l??"0x",y,a?R(a):"0x",f??[],...vn(e,t)],h=[],b=[],g=[];if(p)for(let w=0;w<p.length;w++){const{blob:E,commitment:$,proof:A}=p[w];h.push(E),b.push($),g.push(A)}return $e(["0x03",qe(p?[m,h,b,g]:m)])}function r0(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:d}=e;Rs(e);const l=nr(u),f=[R(n),s?R(s):"0x",c?R(c):"0x",a?R(a):"0x",r?R(r):"0x",o??"0x",i?R(i):"0x",d??"0x",l,...vn(e,t)];return $e(["0x02",qe(f)])}function s0(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;Jf(e);const d=nr(c),l=[R(n),o?R(o):"0x",u?R(u):"0x",r?R(r):"0x",i??"0x",a?R(a):"0x",s??"0x",d,...vn(e,t)];return $e(["0x01",qe(l)])}function o0(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;Qf(e);let u=[o?R(o):"0x",c?R(c):"0x",r?R(r):"0x",i??"0x",a?R(a):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new Hd({v:t.v});return p})(),l=ye(t.r),f=ye(t.s);u=[...u,R(d),l==="0x00"?"0x":l,f==="0x00"?"0x":f]}else n>0&&(u=[...u,R(n),"0x","0x"]);return qe(u)}function vn(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=ye(n.r),i=ye(n.s);return[typeof s=="number"?s?R(1):"0x":r===0n?"0x":r===1n?R(1):r===27n?"0x":R(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function i0(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?R(r):"0x",i,s?R(s):"0x",...vn({},o)])}return t}const a0={"0x0":"reverted","0x1":"success"};function Na(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Le(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Be(e.transactionIndex):null,status:e.status?a0[e.status]:null,type:e.type?Ki[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const c0=vs("transactionReceipt",Na),u0=`Ethereum Signed Message:
`;function d0(e){const t=typeof e=="string"?xt(e):typeof e.raw=="string"?e.raw:K(e.raw),n=xt(`${u0}${H(t)}`);return Oe([n,t])}function za(e,t){return ne(d0(e),t)}const Fa="0x6492649264926492649264926492649264926492649264926492649264926492";function l0(e){return Mi(e,-32)===Fa}function f0(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=$e([Ct([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Fa]);return s==="hex"?o:be(o)}function p0(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function h0(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Be(e.nonce):void 0,storageProof:e.storageProof?p0(e.storageProof):void 0}}async function m0(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?F(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return h0(a)}async function y0(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?F(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function js(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var d,l,f;const i=r||"latest",a=n!==void 0?F(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,F(o)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,F(o)]},{dedupe:!!a}),!c)throw new Ui({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((f=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.transaction)==null?void 0:f.format)||Vn)(c)}async function b0(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([z(e,xn,"getBlockNumber")({}),t?z(e,js,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function Yr(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new _i({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Na)(n)}async function g0(e,t){var h;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:i,stateOverride:a}=t,c=t.contracts,u=r??(typeof((h=e.batch)==null?void 0:h.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=i;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=zt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const l=[[]];let f=0,p=0;for(let b=0;b<c.length;b++){const{abi:g,address:w,args:E,functionName:$}=c[b];try{const A=we({abi:g,args:E,functionName:$});p+=(A.length-2)/2,u>0&&p>u&&l[f].length>0&&(f++,p=(A.length-2)/2,l[f]=[]),l[f]=[...l[f],{allowFailure:!0,callData:A,target:w}]}catch(A){const P=tt(A,{abi:g,address:w,args:E,docsPath:"/docs/contract/multicall",functionName:$});if(!n)throw P;l[f]=[...l[f],{allowFailure:!0,callData:"0x",target:w}]}}const y=await Promise.allSettled(l.map(b=>z(e,Re,"readContract")({abi:Vr,address:d,args:[b],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:a}))),m=[];for(let b=0;b<y.length;b++){const g=y[b];if(g.status==="rejected"){if(!n)throw g.reason;for(let E=0;E<l[b].length;E++)m.push({status:"failure",error:g.reason,result:void 0});continue}const w=g.value;for(let E=0;E<w.length;E++){const{returnData:$,success:A}=w[E],{callData:P}=l[b][E],{abi:I,address:B,functionName:j,args:M}=c[m.length];try{if(P==="0x")throw new fn;if(!A)throw new Dn({data:$});const N=at({abi:I,args:M,data:$,functionName:j});m.push(n?{result:N,status:"success"}:N)}catch(N){const U=tt(N,{abi:I,address:B,args:M,docsPath:"/docs/contract/multicall",functionName:j});if(!n)throw U;m.push({error:U,result:void 0,status:"failure"})}}}if(m.length!==c.length)throw new v("multicall results mismatch");return m}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rr=BigInt(0),sr=BigInt(1),w0=BigInt(2);function rt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function En(e){if(!rt(e))throw new Error("Uint8Array expected")}function Pt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const x0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function At(e){En(e);let t="";for(let n=0;n<e.length;n++)t+=x0[e[n]];return t}function mt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Us(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?rr:BigInt("0x"+e)}const Ce={_0:48,_9:57,A:65,F:70,a:97,f:102};function zo(e){if(e>=Ce._0&&e<=Ce._9)return e-Ce._0;if(e>=Ce.A&&e<=Ce.F)return e-(Ce.A-10);if(e>=Ce.a&&e<=Ce.f)return e-(Ce.a-10)}function Bt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=zo(e.charCodeAt(o)),a=zo(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function Xe(e){return Us(At(e))}function _s(e){return En(e),Us(At(Uint8Array.from(e).reverse()))}function It(e,t){return Bt(e.toString(16).padStart(t*2,"0"))}function Ds(e,t){return It(e,t).reverse()}function v0(e){return Bt(mt(e))}function he(e,t,n){let r;if(typeof t=="string")try{r=Bt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(rt(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function dn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];En(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function E0(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function P0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const vr=e=>typeof e=="bigint"&&rr<=e;function or(e,t,n){return vr(e)&&vr(t)&&vr(n)&&t<=e&&e<n}function Ye(e,t,n,r){if(!or(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Oa(e){let t;for(t=0;e>rr;e>>=sr,t+=1);return t}function A0(e,t){return e>>BigInt(t)&sr}function B0(e,t,n){return e|(n?sr:rr)<<BigInt(t)}const qs=e=>(w0<<BigInt(e-1))-sr,Er=e=>new Uint8Array(e),Fo=e=>Uint8Array.from(e);function La(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Er(e),s=Er(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...l)=>n(s,r,...l),c=(l=Er())=>{s=a(Fo([0]),l),r=a(),l.length!==0&&(s=a(Fo([1]),l),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<t;){r=a();const p=r.slice();f.push(p),l+=r.length}return dn(...f)};return(l,f)=>{i(),c(l);let p;for(;!(p=f(u()));)c();return i(),p}}const I0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||rt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Pn(e,t,n={}){const r=(s,o,i)=>{const a=I0[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const $0=()=>{throw new Error("not implemented")};function Jr(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const T0=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Ye,abool:Pt,abytes:En,bitGet:A0,bitLen:Oa,bitMask:qs,bitSet:B0,bytesToHex:At,bytesToNumberBE:Xe,bytesToNumberLE:_s,concatBytes:dn,createHmacDrbg:La,ensureBytes:he,equalBytes:E0,hexToBytes:Bt,hexToNumber:Us,inRange:or,isBytes:rt,memoized:Jr,notImplemented:$0,numberToBytesBE:It,numberToBytesLE:Ds,numberToHexUnpadded:mt,numberToVarBytesBE:v0,utf8ToBytes:P0,validateObject:Pn},Symbol.toStringTag,{value:"Module"})),S0="0.1.1";function C0(){return S0}class G extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof G){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof G&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${C0()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Ra(this,t)}}function Ra(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Ra(e.cause,t):t?null:e}const k0="#__bigint";function M0(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+k0:s,n)}function N0(e,t){if(Lo(e)>t)throw new q0({givenSize:Lo(e),maxSize:t})}const ke={zero:48,nine:57,A:65,F:70,a:97,f:102};function Oo(e){if(e>=ke.zero&&e<=ke.nine)return e-ke.zero;if(e>=ke.A&&e<=ke.F)return e-(ke.A-10);if(e>=ke.a&&e<=ke.f)return e-(ke.a-10)}function z0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new G0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Gs(e,t){if(pe(e)>t)throw new K0({givenSize:pe(e),maxSize:t})}function F0(e,t){if(typeof t=="number"&&t>0&&t>pe(e)-1)throw new qa({offset:t,position:"start",size:pe(e)})}function O0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&pe(e)!==n-t)throw new qa({offset:n,position:"end",size:pe(e)})}function ja(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new X0({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const L0=new TextEncoder;function R0(e){return e instanceof Uint8Array?e:typeof e=="string"?U0(e):j0(e)}function j0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function U0(e,t={}){const{size:n}=t;let r=e;n&&(Gs(e,n),r=ot(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Oo(s.charCodeAt(c++)),d=Oo(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new G(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+d}return i}function _0(e,t={}){const{size:n}=t,r=L0.encode(e);return typeof n=="number"?(N0(r,n),D0(r,n)):r}function D0(e,t){return z0(e,{dir:"right",size:t})}function Lo(e){return e.length}let q0=class extends G{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},G0=class extends G{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const H0=new TextEncoder,V0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function W0(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ro(e);if(typeof e!="string")throw new Ro(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new jo(e);if(!e.startsWith("0x"))throw new jo(e)}function Ie(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ua(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Gs(n,t.size),st(n,t.size)):n}function _a(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=V0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Gs(r,t.size),ot(r,t.size)):r}function se(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Da({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?st(c,r):c}function Hs(e,t={}){return _a(H0.encode(e),t)}function st(e,t){return ja(e,{dir:"left",size:t})}function ot(e,t){return ja(e,{dir:"right",size:t})}function Vs(e,t,n,r={}){const{strict:s}=r;F0(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&O0(o,t,n),o}function pe(e){return Math.ceil((e.length-2)/2)}function Z0(e,t={}){const{strict:n=!1}=t;try{return W0(e,{strict:n}),!0}catch{return!1}}class Da extends G{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ro extends G{constructor(t){super(`Value \`${typeof t=="object"?M0(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class jo extends G{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class K0 extends G{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class qa extends G{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class X0 extends G{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Y0(e){return{address:e.address,amount:se(e.amount),index:se(e.index),validatorIndex:se(e.validatorIndex)}}function J0(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:se(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:se(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:se(e.gasLimit)},...typeof e.number=="bigint"&&{number:se(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:se(e.prevRandao)},...typeof e.time=="bigint"&&{time:se(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Y0)}}}async function Qr(e,t){const{blockNumber:n,blockTag:r="latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const f of s){const p=f.blockOverrides?J0(f.blockOverrides):void 0,y=f.calls.map(h=>{const b=h,g=b.account?X(b.account):void 0,w={...b,data:b.abi?we(b):b.data,from:b.from??(g==null?void 0:g.address)};return it(w),Mt(w)}),m=f.stateOverrides?Es(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:y,stateOverrides:m})}const d=(n?F(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},d]})).map((f,p)=>({...As(f),calls:f.calls.map((y,m)=>{var j,M;const{abi:h,args:b,functionName:g,to:w}=s[p].calls[m],E=((j=y.error)==null?void 0:j.data)??y.returnData,$=BigInt(y.gasUsed),A=(M=y.logs)==null?void 0:M.map(N=>Le(N)),P=y.status==="0x1"?"success":"failure",I=h&&P==="success"&&E!=="0x"?at({abi:h,data:E,functionName:g}):null,B=(()=>{var U;if(P==="success")return;let N;if(((U=y.error)==null?void 0:U.data)==="0x"?N=new fn:y.error&&(N=new Dn(y.error)),!!N)return tt(N,{abi:h??[],address:w,args:b,functionName:g??"<unknown>"})})();return{data:E,gasUsed:$,logs:A,status:P,...P==="success"?{result:I}:{error:B}}})}))}catch(c){const u=c,d=qn(u,{});throw d instanceof gn?u:d}}function Ga(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Ii(R0(e));return n==="Bytes"?r:_a(r)}class Q0 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const ep={checksum:new Q0(8192)},Pr=ep.checksum,tp=/^0x[a-fA-F0-9]{40}$/;function ir(e,t={}){const{strict:n=!0}=t;if(!tp.test(e))throw new Uo({address:e,cause:new rp});if(n){if(e.toLowerCase()===e)return;if(np(e)!==e)throw new Uo({address:e,cause:new sp})}}function np(e){if(Pr.has(e))return Pr.get(e);ir(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ga(_0(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Pr.set(e,s),s}function es(e,t={}){const{strict:n=!0}=t??{};try{return ir(e,{strict:n}),!0}catch{return!1}}class Uo extends G{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class rp extends G{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class sp extends G{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function ts(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new G("Unable to normalize signature.");return s}function ns(e,t){const n=typeof e,r=t.type;switch(r){case"address":return es(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>ns(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>ns(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ha(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ha(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?es(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?es(n[r],{strict:!1}):!1)return i}}function Va(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?no(e):e;return{...r,...n?{hash:yt(r)}:{}}}function op(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Z0(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Wa(u)===Vs(t,0,4):u.type==="event"?yt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new rs({name:t});if(i.length===1)return{...i[0],...s?{hash:yt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:yt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,f)=>{const p="inputs"in u&&u.inputs[f];return p?ns(l,p):!1})){if(a&&"inputs"in a&&a.inputs){const l=Ha(u.inputs,a.inputs,r);if(l)throw new ap({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...d]=i;return{...u,overloads:d}})();if(!c)throw new rs({name:t});return{...c,...s?{hash:yt(c)}:{}}}function Wa(e){return Vs(yt(e),0,4)}function ip(e){const t=typeof e=="string"?e:kn(e);return ts(t)}function yt(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Ga(Hs(ip(e)))}class ap extends G{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ts(kn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ts(kn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class rs extends G{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const cp=/^(.*)\[([0-9]*)\]$/,up=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Za=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function dp({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ws({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ws({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=gp(r.type);if(s){const[o,i]=s;return fp(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return bp(n,{checksumAddress:e,parameter:r});if(r.type==="address")return lp(n,{checksum:e});if(r.type==="bool")return hp(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Za.exec(r.type)??[];return mp(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return pp(n,{type:r.type});if(r.type==="string")return yp(n);throw new Ja(r.type)}function Zs(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=pe(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(se(t+s,{size:32})),r.push(a),s+=pe(a)):n.push(a)}return Ie(...n,...r)}function lp(e,t){const{checksum:n=!1}=t;return ir(e,{strict:n}),{dynamic:!1,encoded:st(e.toLowerCase())}}function fp(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new xp(e);if(!o&&e.length!==r)throw new wp({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=Ws({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Zs(a);if(o){const u=se(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ie(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ie(...a.map(({encoded:c})=>c))}}function pp(e,{type:t}){const[,n]=t.split("bytes"),r=pe(e);if(!n){let s=e;return r%32!==0&&(s=ot(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ie(st(se(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new Xa({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:ot(e)}}function hp(e){if(typeof e!="boolean")throw new G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:st(Ua(e))}}function mp(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Da({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:se(e,{size:32,signed:t})}}function yp(e){const t=Hs(e),n=Math.ceil(pe(t)/32),r=[];for(let s=0;s<n;s++)r.push(ot(Vs(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ie(ot(se(pe(t),{size:32})),...r)}}function bp(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=Ws({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Zs(o):Ie(...o.map(({encoded:i})=>i))}}function gp(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Ka(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Ya({expectedLength:e.length,givenLength:t.length});const s=dp({checksumAddress:r,parameters:e,values:t}),o=Zs(s);return o.length===0?"0x":o}function ss(e,t){if(e.length!==t.length)throw new Ya({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(ss.encode(s,o))}return Ie(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return ir(c),st(c.toLowerCase(),s?32:0)}if(n==="string")return Hs(r);if(n==="bytes")return r;if(n==="bool")return st(Ua(r),s?32:1);const o=n.match(Za);if(o){const[c,u,d="256"]=o,l=Number.parseInt(d)/8;return se(r,{size:s?32:l,signed:u==="int"})}const i=n.match(up);if(i){const[c,u]=i;if(Number.parseInt(u)!==(r.length-2)/2)throw new Xa({expectedSize:Number.parseInt(u),value:r});return ot(r,s?32:0)}const a=n.match(cp);if(a&&Array.isArray(r)){const[c,u]=a,d=[];for(let l=0;l<r.length;l++)d.push(t(u,r[l],!0));return d.length===0?"0x":Ie(...d)}throw new Ja(n)}e.encode=t})(ss||(ss={}));class wp extends G{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Xa extends G{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${pe(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Ya extends G{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class xp extends G{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Ja extends G{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function vp(e,t){var s;const{bytecode:n,args:r}=t;return Ie(n,(s=e.inputs)!=null&&s.length&&(r!=null&&r.length)?Ka(e.inputs,r):"0x")}function Ep(e){return Va(e)}function Pp(e,...t){const{overloads:n}=e,r=n?Ap([e,...n],e.name,{args:t[0]}):e,s=Bp(r),o=t.length>0?Ka(r.inputs,t[0]):void 0;return o?Ie(s,o):s}function pt(e,t={}){return Va(e,t)}function Ap(e,t,n){const r=op(e,t,n);if(r.type!=="function")throw new rs({name:t,type:"function"});return r}function Bp(e){return Wa(e)}const Ip="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ee="0x0000000000000000000000000000000000000000",$p="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Tp(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?X(t.account):void 0;if(i&&!u)throw new v("`account` is required when `traceAssetChanges` is true");const d=u?vp(Ep("constructor(bytes, bytes)"),{bytecode:da,args:[$p,Pp(pt("function getBalance(address)"),[u.address])]}):void 0,l=i?await Promise.all(t.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:_}=await Pa(e,{account:u.address,...S,data:S.abi?we(S):S.data});return _.map(({address:q,storageKeys:Y})=>Y.length>0?q:null)})).then(S=>S.flat().filter(Boolean)):[],f=o==null?void 0:o.map(S=>S.address===(u==null?void 0:u.address)?{...S,nonce:0}:S),p=await Qr(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:o},{calls:l.map((S,_)=>({abi:[pt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:Ee,nonce:_})),stateOverrides:[{address:Ee,nonce:0}]}]:[],{calls:[...s,{}].map((S,_)=>({...S,from:u==null?void 0:u.address,nonce:_})),stateOverrides:f},...i?[{calls:[{data:d}]},{calls:l.map((S,_)=>({abi:[pt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:Ee,nonce:_})),stateOverrides:[{address:Ee,nonce:0}]},{calls:l.map((S,_)=>({to:S,abi:[pt("function decimals() returns (uint256)")],functionName:"decimals",from:Ee,nonce:_})),stateOverrides:[{address:Ee,nonce:0}]},{calls:l.map((S,_)=>({to:S,abi:[pt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ee,nonce:_})),stateOverrides:[{address:Ee,nonce:0}]},{calls:l.map((S,_)=>({to:S,abi:[pt("function symbol() returns (string)")],functionName:"symbol",from:Ee,nonce:_})),stateOverrides:[{address:Ee,nonce:0}]}]:[]],traceTransfers:a,validation:c}),y=i?p[2]:p[0],[m,h,,b,g,w,E,$]=i?p:[],{calls:A,...P}=y,I=A.slice(0,-1)??[],B=(m==null?void 0:m.calls)??[],j=(h==null?void 0:h.calls)??[],M=[...B,...j].map(S=>S.status==="success"?oe(S.data):null),N=(b==null?void 0:b.calls)??[],U=(g==null?void 0:g.calls)??[],T=[...N,...U].map(S=>S.status==="success"?oe(S.data):null),C=((w==null?void 0:w.calls)??[]).map(S=>S.status==="success"?S.result:null),k=(($==null?void 0:$.calls)??[]).map(S=>S.status==="success"?S.result:null),O=((E==null?void 0:E.calls)??[]).map(S=>S.status==="success"?S.result:null),L=[];for(const[S,_]of T.entries()){const q=M[S];if(typeof _!="bigint"||typeof q!="bigint")continue;const Y=C[S-1],de=k[S-1],re=O[S-1],Te=S===0?{address:Ip,decimals:18,symbol:"ETH"}:{address:l[S-1],decimals:re||Y?Number(Y??1):void 0,symbol:de??void 0};L.some(xe=>xe.token.address===Te.address)||L.push({token:Te,value:{pre:q,post:_,diff:_-q}})}return{assetChanges:L,block:P,results:I}}class Qa extends ls{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,_u(t);const r=Ln(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return vt(this),this.iHash.update(t),this}digestInto(t){vt(this),pn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ec=(e,t,n)=>new Qa(e,t).update(n).digest();ec.create=(e,t)=>new Qa(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Q=BigInt(0),W=BigInt(1),We=BigInt(2),Sp=BigInt(3),os=BigInt(4),_o=BigInt(5),Do=BigInt(8);function ae(e,t){const n=e%t;return n>=Q?n:t+n}function Cp(e,t,n){if(t<Q)throw new Error("invalid exponent, negatives unsupported");if(n<=Q)throw new Error("invalid modulus");if(n===W)return Q;let r=W;for(;t>Q;)t&W&&(r=r*e%n),e=e*e%n,t>>=W;return r}function fe(e,t,n){let r=e;for(;t-- >Q;)r*=r,r%=n;return r}function is(e,t){if(e===Q)throw new Error("invert: expected non-zero number");if(t<=Q)throw new Error("invert: expected positive modulus, got "+t);let n=ae(e,t),r=t,s=Q,o=W;for(;n!==Q;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==W)throw new Error("invert: does not exist");return ae(s,t)}function kp(e){const t=(e-W)/We;let n,r,s;for(n=e-W,r=0;n%We===Q;n/=We,r++);for(s=We;s<e&&Cp(s,t,e)!==e-W;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const i=(e+W)/os;return function(c,u){const d=c.pow(u,i);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(n+W)/We;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,d=a.pow(a.mul(a.ONE,s),n),l=a.pow(c,o),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(f);p<u&&!a.eql(m,a.ONE);p++)m=a.sqr(m);const y=a.pow(d,W<<BigInt(u-p-1));d=a.sqr(y),l=a.mul(l,y),f=a.mul(f,d),u=p}return l}}function Mp(e){if(e%os===Sp){const t=(e+W)/os;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%Do===_o){const t=(e-_o)/Do;return function(r,s){const o=r.mul(s,We),i=r.pow(o,t),a=r.mul(s,i),c=r.mul(r.mul(a,We),i),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return kp(e)}const Np=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zp(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Np.reduce((r,s)=>(r[s]="function",r),t);return Pn(e,n)}function Fp(e,t,n){if(n<Q)throw new Error("invalid exponent, negatives unsupported");if(n===Q)return e.ONE;if(n===W)return t;let r=e.ONE,s=t;for(;n>Q;)n&W&&(r=e.mul(r,s)),s=e.sqr(s),n>>=W;return r}function Op(e,t){const n=new Array(t.length),r=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),s=e.inv(r);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),s),n}function tc(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function nc(e,t,n=!1,r={}){if(e<=Q)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=tc(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:qs(s),ZERO:Q,ONE:W,create:c=>ae(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Q<=c&&c<e},is0:c=>c===Q,isOdd:c=>(c&W)===W,neg:c=>ae(-c,e),eql:(c,u)=>c===u,sqr:c=>ae(c*c,e),add:(c,u)=>ae(c+u,e),sub:(c,u)=>ae(c-u,e),mul:(c,u)=>ae(c*u,e),pow:(c,u)=>Fp(a,c,u),div:(c,u)=>ae(c*is(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>is(c,e),sqrt:r.sqrt||(c=>(i||(i=Mp(e)),i(a,c))),invertBatch:c=>Op(a,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?Ds(c,o):It(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?_s(c):Xe(c)}});return Object.freeze(a)}function rc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function sc(e){const t=rc(e);return t+Math.ceil(t/2)}function Lp(e,t,n=!1){const r=e.length,s=rc(t),o=sc(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?_s(e):Xe(e),a=ae(i,t-W)+W;return n?Ds(a,s):It(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qo=BigInt(0),Tn=BigInt(1);function Ar(e,t){const n=t.negate();return e?n:t}function oc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Br(e,t){oc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function Rp(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function jp(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ir=new WeakMap,ic=new WeakMap;function $r(e){return ic.get(e)||1}function Up(e,t){return{constTimeNegate:Ar,hasPrecomputes(n){return $r(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>qo;)r&Tn&&(s=s.add(o)),o=o.double(),r>>=Tn;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Br(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let d=1;d<o;d++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){const{windows:o,windowSize:i}=Br(n,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**n-1),d=2**n,l=BigInt(n);for(let f=0;f<o;f++){const p=f*i;let y=Number(s&u);s>>=l,y>i&&(y-=d,s+=Tn);const m=p,h=p+Math.abs(y)-1,b=f%2!==0,g=y<0;y===0?c=c.add(Ar(b,r[m])):a=a.add(Ar(g,r[h]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,o=e.ZERO){const{windows:i,windowSize:a}=Br(n,t),c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let l=0;l<i;l++){const f=l*a;if(s===qo)break;let p=Number(s&c);if(s>>=d,p>a&&(p-=u,s+=Tn),p===0)continue;let y=r[f+Math.abs(p)-1];p<0&&(y=y.negate()),o=o.add(y)}return o},getPrecomputes(n,r,s){let o=Ir.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Ir.set(r,s(o))),o},wNAFCached(n,r,s){const o=$r(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=$r(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){oc(r,t),ic.set(n,r),Ir.delete(n)}}}function _p(e,t,n,r){if(Rp(n,e),jp(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=Oa(BigInt(n.length)),i=o>12?o-3:o>4?o-2:o?2:1,a=(1<<i)-1,c=new Array(a+1).fill(s),u=Math.floor((t.BITS-1)/i)*i;let d=s;for(let l=u;l>=0;l-=i){c.fill(s);for(let p=0;p<r.length;p++){const y=r[p],m=Number(y>>BigInt(l)&BigInt(a));c[m]=c[m].add(n[p])}let f=s;for(let p=c.length-1,y=s;p>0;p--)y=y.add(c[p]),f=f.add(y);if(d=d.add(f),l!==0)for(let p=0;p<i;p++)d=d.double()}return d}function ac(e){return zp(e.Fp),Pn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Go(e){e.lowS!==void 0&&Pt("lowS",e.lowS),e.prehash!==void 0&&Pt("prehash",e.prehash)}function Dp(e){const t=ac(e);Pn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:qp,hexToBytes:Gp}=T0;class Hp extends Error{constructor(t=""){super(t)}}const Me={Err:Hp,_tlv:{encode:(e,t)=>{const{Err:n}=Me;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=mt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?mt(s.length/2|128):"";return mt(e)+o+s+t},decode(e,t){const{Err:n}=Me;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Me;if(e<Ne)throw new t("integer: negative integers are not allowed");let n=mt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Me;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return qp(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Me,s=typeof e=="string"?Gp(e):e;En(s);const{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Me,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},Ne=BigInt(0),J=BigInt(1);BigInt(2);const Ho=BigInt(3);BigInt(4);function Vp(e){const t=Dp(e),{Fp:n}=t,r=nc(t.n,t.nBitLength),s=t.toBytes||((m,h,b)=>{const g=h.toAffine();return dn(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),o=t.fromBytes||(m=>{const h=m.subarray(1),b=n.fromBytes(h.subarray(0,n.BYTES)),g=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:b,y:g}});function i(m){const{a:h,b}=t,g=n.sqr(m),w=n.mul(g,m);return n.add(n.add(w,n.mul(m,h)),b)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return or(m,J,t.n)}function c(m){const{allowedPrivateKeyLengths:h,nByteLength:b,wrapPrivateKey:g,n:w}=t;if(h&&typeof m!="bigint"){if(rt(m)&&(m=At(m)),typeof m!="string"||!h.includes(m.length))throw new Error("invalid private key");m=m.padStart(b*2,"0")}let E;try{E=typeof m=="bigint"?m:Xe(he("private key",m,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof m)}return g&&(E=ae(E,w)),Ye("private key",E,J,w),E}function u(m){if(!(m instanceof f))throw new Error("ProjectivePoint expected")}const d=Jr((m,h)=>{const{px:b,py:g,pz:w}=m;if(n.eql(w,n.ONE))return{x:b,y:g};const E=m.is0();h==null&&(h=E?n.ONE:n.inv(w));const $=n.mul(b,h),A=n.mul(g,h),P=n.mul(w,h);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:$,y:A}}),l=Jr(m=>{if(m.is0()){if(t.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:h,y:b}=m.toAffine();if(!n.isValid(h)||!n.isValid(b))throw new Error("bad point: x or y not FE");const g=n.sqr(b),w=i(h);if(!n.eql(g,w))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(h,b,g){if(this.px=h,this.py=b,this.pz=g,h==null||!n.isValid(h))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required");Object.freeze(this)}static fromAffine(h){const{x:b,y:g}=h||{};if(!h||!n.isValid(b)||!n.isValid(g))throw new Error("invalid affine point");if(h instanceof f)throw new Error("projective point not allowed");const w=E=>n.eql(E,n.ZERO);return w(b)&&w(g)?f.ZERO:new f(b,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const b=n.invertBatch(h.map(g=>g.pz));return h.map((g,w)=>g.toAffine(b[w])).map(f.fromAffine)}static fromHex(h){const b=f.fromAffine(o(he("pointHex",h)));return b.assertValidity(),b}static fromPrivateKey(h){return f.BASE.multiply(c(h))}static msm(h,b){return _p(f,r,h,b)}_setWindowSize(h){y.setWindowSize(this,h)}assertValidity(){l(this)}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){u(h);const{px:b,py:g,pz:w}=this,{px:E,py:$,pz:A}=h,P=n.eql(n.mul(b,A),n.mul(E,w)),I=n.eql(n.mul(g,A),n.mul($,w));return P&&I}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b}=t,g=n.mul(b,Ho),{px:w,py:E,pz:$}=this;let A=n.ZERO,P=n.ZERO,I=n.ZERO,B=n.mul(w,w),j=n.mul(E,E),M=n.mul($,$),N=n.mul(w,E);return N=n.add(N,N),I=n.mul(w,$),I=n.add(I,I),A=n.mul(h,I),P=n.mul(g,M),P=n.add(A,P),A=n.sub(j,P),P=n.add(j,P),P=n.mul(A,P),A=n.mul(N,A),I=n.mul(g,I),M=n.mul(h,M),N=n.sub(B,M),N=n.mul(h,N),N=n.add(N,I),I=n.add(B,B),B=n.add(I,B),B=n.add(B,M),B=n.mul(B,N),P=n.add(P,B),M=n.mul(E,$),M=n.add(M,M),B=n.mul(M,N),A=n.sub(A,B),I=n.mul(M,j),I=n.add(I,I),I=n.add(I,I),new f(A,P,I)}add(h){u(h);const{px:b,py:g,pz:w}=this,{px:E,py:$,pz:A}=h;let P=n.ZERO,I=n.ZERO,B=n.ZERO;const j=t.a,M=n.mul(t.b,Ho);let N=n.mul(b,E),U=n.mul(g,$),T=n.mul(w,A),C=n.add(b,g),k=n.add(E,$);C=n.mul(C,k),k=n.add(N,U),C=n.sub(C,k),k=n.add(b,w);let O=n.add(E,A);return k=n.mul(k,O),O=n.add(N,T),k=n.sub(k,O),O=n.add(g,w),P=n.add($,A),O=n.mul(O,P),P=n.add(U,T),O=n.sub(O,P),B=n.mul(j,k),P=n.mul(M,T),B=n.add(P,B),P=n.sub(U,B),B=n.add(U,B),I=n.mul(P,B),U=n.add(N,N),U=n.add(U,N),T=n.mul(j,T),k=n.mul(M,k),U=n.add(U,T),T=n.sub(N,T),T=n.mul(j,T),k=n.add(k,T),N=n.mul(U,k),I=n.add(I,N),N=n.mul(O,k),P=n.mul(C,P),P=n.sub(P,N),N=n.mul(C,U),B=n.mul(O,B),B=n.add(B,N),new f(P,I,B)}subtract(h){return this.add(h.negate())}is0(){return this.equals(f.ZERO)}wNAF(h){return y.wNAFCached(this,h,f.normalizeZ)}multiplyUnsafe(h){const{endo:b,n:g}=t;Ye("scalar",h,Ne,g);const w=f.ZERO;if(h===Ne)return w;if(this.is0()||h===J)return this;if(!b||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,h,f.normalizeZ);let{k1neg:E,k1:$,k2neg:A,k2:P}=b.splitScalar(h),I=w,B=w,j=this;for(;$>Ne||P>Ne;)$&J&&(I=I.add(j)),P&J&&(B=B.add(j)),j=j.double(),$>>=J,P>>=J;return E&&(I=I.negate()),A&&(B=B.negate()),B=new f(n.mul(B.px,b.beta),B.py,B.pz),I.add(B)}multiply(h){const{endo:b,n:g}=t;Ye("scalar",h,J,g);let w,E;if(b){const{k1neg:$,k1:A,k2neg:P,k2:I}=b.splitScalar(h);let{p:B,f:j}=this.wNAF(A),{p:M,f:N}=this.wNAF(I);B=y.constTimeNegate($,B),M=y.constTimeNegate(P,M),M=new f(n.mul(M.px,b.beta),M.py,M.pz),w=B.add(M),E=j.add(N)}else{const{p:$,f:A}=this.wNAF(h);w=$,E=A}return f.normalizeZ([w,E])[0]}multiplyAndAddUnsafe(h,b,g){const w=f.BASE,E=(A,P)=>P===Ne||P===J||!A.equals(w)?A.multiplyUnsafe(P):A.multiply(P),$=E(this,b).add(E(h,g));return $.is0()?void 0:$}toAffine(h){return d(this,h)}isTorsionFree(){const{h,isTorsionFree:b}=t;if(h===J)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:b}=t;return h===J?this:b?b(f,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return Pt("isCompressed",h),this.assertValidity(),s(f,this,h)}toHex(h=!0){return Pt("isCompressed",h),At(this.toRawBytes(h))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,y=Up(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function Wp(e){const t=ac(e);return Pn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Zp(e){const t=Wp(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function i(T){return ae(T,r)}function a(T){return is(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:l}=Vp({...t,toBytes(T,C,k){const O=C.toAffine(),L=n.toBytes(O.x),S=dn;return Pt("isCompressed",k),k?S(Uint8Array.from([C.hasEvenY()?2:3]),L):S(Uint8Array.from([4]),L,n.toBytes(O.y))},fromBytes(T){const C=T.length,k=T[0],O=T.subarray(1);if(C===s&&(k===2||k===3)){const L=Xe(O);if(!or(L,J,n.ORDER))throw new Error("Point is not on curve");const S=d(L);let _;try{_=n.sqrt(S)}catch(de){const re=de instanceof Error?": "+de.message:"";throw new Error("Point is not on curve"+re)}const q=(_&J)===J;return(k&1)===1!==q&&(_=n.neg(_)),{x:L,y:_}}else if(C===o&&k===4){const L=n.fromBytes(O.subarray(0,n.BYTES)),S=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:L,y:S}}else{const L=s,S=o;throw new Error("invalid Point, expected length of "+L+", or uncompressed "+S+", got "+C)}}}),f=T=>At(It(T,t.nByteLength));function p(T){const C=r>>J;return T>C}function y(T){return p(T)?i(-T):T}const m=(T,C,k)=>Xe(T.slice(C,k));class h{constructor(C,k,O){this.r=C,this.s=k,this.recovery=O,this.assertValidity()}static fromCompact(C){const k=t.nByteLength;return C=he("compactSignature",C,k*2),new h(m(C,0,k),m(C,k,2*k))}static fromDER(C){const{r:k,s:O}=Me.toSig(he("DER",C));return new h(k,O)}assertValidity(){Ye("r",this.r,J,r),Ye("s",this.s,J,r)}addRecoveryBit(C){return new h(this.r,this.s,C)}recoverPublicKey(C){const{r:k,s:O,recovery:L}=this,S=A(he("msgHash",C));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const _=L===2||L===3?k+t.n:k;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=L&1?"03":"02",Y=c.fromHex(q+f(_)),de=a(_),re=i(-S*de),Te=i(O*de),xe=c.BASE.multiplyAndAddUnsafe(Y,re,Te);if(!xe)throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Bt(this.toDERHex())}toDERHex(){return Me.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Bt(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=sc(t.n);return Lp(t.randomBytes(T),t.n)},precompute(T=8,C=c.BASE){return C._setWindowSize(T),C.multiply(BigInt(3)),C}};function g(T,C=!0){return c.fromPrivateKey(T).toRawBytes(C)}function w(T){const C=rt(T),k=typeof T=="string",O=(C||k)&&T.length;return C?O===s||O===o:k?O===2*s||O===2*o:T instanceof c}function E(T,C,k=!0){if(w(T))throw new Error("first arg must be private key");if(!w(C))throw new Error("second arg must be public key");return c.fromHex(C).multiply(u(T)).toRawBytes(k)}const $=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const C=Xe(T),k=T.length*8-t.nBitLength;return k>0?C>>BigInt(k):C},A=t.bits2int_modN||function(T){return i($(T))},P=qs(t.nBitLength);function I(T){return Ye("num < 2^"+t.nBitLength,T,Ne,P),It(T,t.nByteLength)}function B(T,C,k=j){if(["recovered","canonical"].some(He=>He in k))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:L}=t;let{lowS:S,prehash:_,extraEntropy:q}=k;S==null&&(S=!0),T=he("msgHash",T),Go(k),_&&(T=he("prehashed msgHash",O(T)));const Y=A(T),de=u(C),re=[I(de),I(Y)];if(q!=null&&q!==!1){const He=q===!0?L(n.BYTES):q;re.push(he("extraEntropy",He))}const Te=dn(...re),xe=Y;function dr(He){const dt=$(He);if(!l(dt))return;const lr=a(dt),Ft=c.BASE.multiply(dt).toAffine(),Ve=i(Ft.x);if(Ve===Ne)return;const Ot=i(lr*i(xe+Ve*de));if(Ot===Ne)return;let Lt=(Ft.x===Ve?0:2)|Number(Ft.y&J),lt=Ot;return S&&p(Ot)&&(lt=y(Ot),Lt^=1),new h(Ve,lt,Lt)}return{seed:Te,k2sig:dr}}const j={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function N(T,C,k=j){const{seed:O,k2sig:L}=B(T,C,k),S=t;return La(S.hash.outputLen,S.nByteLength,S.hmac)(O,L)}c.BASE._setWindowSize(8);function U(T,C,k,O=M){var Lt;const L=T;C=he("msgHash",C),k=he("publicKey",k);const{lowS:S,prehash:_,format:q}=O;if(Go(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const Y=typeof L=="string"||rt(L),de=!Y&&!q&&typeof L=="object"&&L!==null&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!Y&&!de)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,Te;try{if(de&&(re=new h(L.r,L.s)),Y){try{q!=="compact"&&(re=h.fromDER(L))}catch(lt){if(!(lt instanceof Me.Err))throw lt}!re&&q!=="der"&&(re=h.fromCompact(L))}Te=c.fromHex(k)}catch{return!1}if(!re||S&&re.hasHighS())return!1;_&&(C=t.hash(C));const{r:xe,s:dr}=re,He=A(C),dt=a(dr),lr=i(He*dt),Ft=i(xe*dt),Ve=(Lt=c.BASE.multiplyAndAddUnsafe(Te,lr,Ft))==null?void 0:Lt.toAffine();return Ve?i(Ve.x)===xe:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:E,sign:N,verify:U,ProjectivePoint:c,Signature:h,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kp(e){return{hash:e,hmac:(t,...n)=>ec(e,t,Yu(...n)),randomBytes:Ju}}function Xp(e,t){const n=r=>Zp({...e,...Kp(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Vo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yp=BigInt(1),as=BigInt(2),Wo=(e,t)=>(e+t/as)/t;function Jp(e){const t=cc,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=fe(d,n,t)*d%t,f=fe(l,n,t)*d%t,p=fe(f,as,t)*u%t,y=fe(p,s,t)*p%t,m=fe(y,o,t)*y%t,h=fe(m,a,t)*m%t,b=fe(h,c,t)*h%t,g=fe(b,a,t)*m%t,w=fe(g,n,t)*d%t,E=fe(w,i,t)*y%t,$=fe(E,r,t)*u%t,A=fe($,as,t);if(!cs.eql(cs.sqr(A),e))throw new Error("Cannot find square root");return A}const cs=nc(cc,void 0,void 0,{sqrt:Jp}),Ks=Xp({a:BigInt(0),b:BigInt(7),Fp:cs,n:Vo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Vo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Wo(o*e,t),c=Wo(-r*e,t);let u=ae(e-a*n-c*s,t),d=ae(-a*r-c*o,t);const l=u>i,f=d>i;if(l&&(u=t-u),f&&(d=t-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:f,k2:d}}}},Yi);BigInt(0);Ks.ProjectivePoint;const Qp=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Ks},Symbol.toStringTag,{value:"Module"}));function eh({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Ks.Signature(oe(e),oe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:be(i)}async function Xs(e,t){var l,f,p;const{address:n,factory:r,factoryData:s,hash:o,signature:i,universalSignatureVerifierAddress:a=(p=(f=(l=e.chain)==null?void 0:l.contracts)==null?void 0:f.universalSignatureVerifier)==null?void 0:p.address,...c}=t,u=Ae(i)?i:typeof i=="object"&&"r"in i&&"s"in i?eh(i):K(i),d=await(async()=>!r&&!s||l0(u)?u:f0({address:r,data:s,signature:u}))();try{const y=a?{to:a,data:we({abi:So,functionName:"isValidSig",args:[n,o,d]}),...c}:{data:Yn({abi:So,args:[n,o,d],bytecode:Ul}),...c},{data:m}=await z(e,Jn,"call")(y);return zu(m??"0x0")}catch(y){try{if(Zn(Ti(n),await Gi({hash:o,signature:i})))return!0}catch{}if(y instanceof Di)return!1;throw y}}async function th(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=za(n);return Xs(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function nh(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...d}=t,l=Gf({message:i,primaryType:a,types:c,domain:u});return Xs(e,{address:n,factory:r,factoryData:s,hash:l,signature:o,...d})}function uc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const l=ee(["watchBlockNumber",e.uid,t,n,i]);return Ge(l,{onBlockNumber:r,onError:s},f=>wn(async()=>{var p;try{const y=await z(e,xn,"getBlockNumber")({cacheTime:0});if(c){if(y===c)return;if(y-c>1&&n)for(let m=c+1n;m<y;m++)f.onBlockNumber(m,c),c=m}(!c||y>c)&&(f.onBlockNumber(y,c),c=y)}catch(y){(p=f.onError)==null||p.call(f,y)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=ee(["watchBlockNumber",e.uid,t,n]);return Ge(l,{onBlockNumber:r,onError:s},f=>{let p=!0,y=()=>p=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(g=>g.config.type==="webSocket");return b?b.value:e.transport}return e.transport})(),{unsubscribe:h}=await m.subscribe({params:["newHeads"],onData(b){var w;if(!p)return;const g=oe((w=b.result)==null?void 0:w.number);f.onBlockNumber(g,c),c=g},onError(b){var g;(g=f.onError)==null||g.call(f,b)}});y=h,p||y()}catch(m){s==null||s(m)}})(),()=>y()})})()}async function rh(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:i=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=ee(["waitForTransactionReceipt",e.uid,n]);let u,d,l,f=!1;const{promise:p,resolve:y,reject:m}=pa(),h=a?setTimeout(()=>m(new Kd({hash:n})),a):void 0,b=Ge(c,{onReplaced:r,resolve:y,reject:m},g=>{const w=z(e,uc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const $=P=>{clearTimeout(h),w(),P(),b()};let A=E;if(!f)try{if(l){if(t>1&&(!l.blockNumber||A-l.blockNumber+1n<t))return;$(()=>g.resolve(l));return}if(u||(f=!0,await Xr(async()=>{u=await z(e,js,"getTransaction")({hash:n}),u.blockNumber&&(A=u.blockNumber)},{delay:i,retryCount:o}),f=!1),l=await z(e,Yr,"getTransactionReceipt")({hash:n}),t>1&&(!l.blockNumber||A-l.blockNumber+1n<t))return;$(()=>g.resolve(l))}catch(P){if(P instanceof Ui||P instanceof _i){if(!u){f=!1;return}try{d=u,f=!0;const I=await Xr(()=>z(e,Pe,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:M})=>M instanceof Zi});f=!1;const B=I.transactions.find(({from:M,nonce:N})=>M===d.from&&N===d.nonce);if(!B||(l=await z(e,Yr,"getTransactionReceipt")({hash:B.hash}),t>1&&(!l.blockNumber||A-l.blockNumber+1n<t)))return;let j="replaced";B.to===d.to&&B.value===d.value&&B.input===d.input?j="repriced":B.from===B.to&&B.value===0n&&(j="cancelled"),$(()=>{var M;(M=g.onReplaced)==null||M.call(g,{reason:j,replacedTransaction:d,transaction:B,transactionReceipt:l}),g.resolve(l)})}catch(I){$(()=>g.reject(I))}}else $(()=>g.reject(P))}}})});return p}function sh(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=i??!1;let l;return u?(()=>{const y=ee(["watchBlocks",e.uid,t,n,r,d,c]);return Ge(y,{onBlock:s,onError:o},m=>wn(async()=>{var h;try{const b=await z(e,Pe,"getBlock")({blockTag:t,includeTransactions:d});if(b.number&&(l!=null&&l.number)){if(b.number===l.number)return;if(b.number-l.number>1&&n)for(let g=(l==null?void 0:l.number)+1n;g<b.number;g++){const w=await z(e,Pe,"getBlock")({blockNumber:g,includeTransactions:d});m.onBlock(w,l),l=w}}(!(l!=null&&l.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>l.number)&&(m.onBlock(b,l),l=b)}catch(b){(h=m.onError)==null||h.call(m,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let y=!0,m=!0,h=()=>y=!1;return(async()=>{try{r&&z(e,Pe,"getBlock")({blockTag:t,includeTransactions:d}).then(w=>{y&&m&&(s(w,void 0),m=!1)});const b=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(E=>E.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],async onData(w){if(!y)return;const E=await z(e,Pe,"getBlock")({blockNumber:w.blockNumber,includeTransactions:d}).catch(()=>{});y&&(s(E,l),m=!1,l=E)},onError(w){o==null||o(w)}});h=g,y||h()}catch(b){o==null||o(b)}})(),()=>h()})()}function oh(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),p=l??!1;return f?(()=>{const h=ee(["watchEvent",t,n,r,e.uid,s,d,i]);return Ge(h,{onLogs:c,onError:a},b=>{let g;i!==void 0&&(g=i-1n);let w,E=!1;const $=wn(async()=>{var A;if(!E){try{w=await z(e,Aa,"createEventFilter")({address:t,args:n,event:s,events:o,strict:p,fromBlock:i})}catch{}E=!0;return}try{let P;if(w)P=await z(e,Qn,"getFilterChanges")({filter:w});else{const I=await z(e,xn,"getBlockNumber")({});g&&g!==I?P=await z(e,Ms,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:g+1n,toBlock:I}):P=[],g=I}if(P.length===0)return;if(r)b.onLogs(P);else for(const I of P)b.onLogs([I])}catch(P){w&&P instanceof et&&(E=!1),(A=b.onError)==null||A.call(b,P)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await z(e,er,"uninstallFilter")({filter:w}),$()}})})():(()=>{let h=!0,b=()=>h=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(P=>P.config.type==="webSocket");return A?A.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let E=[];w&&(E=[w.flatMap(P=>yn({abi:[P],eventName:P.name,args:n}))],s&&(E=E[0]));const{unsubscribe:$}=await g.subscribe({params:["logs",{address:t,topics:E}],onData(A){var I;if(!h)return;const P=A.result;try{const{eventName:B,args:j}=ks({abi:w??[],data:P.data,topics:P.topics,strict:p}),M=Le(P,{args:j,eventName:B});c([M])}catch(B){let j,M;if(B instanceof Vt||B instanceof On){if(l)return;j=B.abiItem.name,M=(I=B.abiItem.inputs)==null?void 0:I.some(U=>!("name"in U&&U.name))}const N=Le(P,{args:M?[]:{},eventName:j});c([N])}},onError(A){a==null||a(A)}});b=$,h||b()}catch(g){a==null||a(g)}})(),()=>b()})()}function ih(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=ee(["watchPendingTransactions",e.uid,t,o]);return Ge(u,{onTransactions:r,onError:n},d=>{let l;const f=wn(async()=>{var p;try{if(!l)try{l=await z(e,Ba,"createPendingTransactionFilter")({});return}catch(m){throw f(),m}const y=await z(e,Qn,"getFilterChanges")({filter:l});if(y.length===0)return;if(t)d.onTransactions(y);else for(const m of y)d.onTransactions([m])}catch(y){(p=d.onError)==null||p.call(d,y)}},{emitOnBegin:!0,interval:o});return async()=>{l&&await z(e,er,"uninstallFilter")({filter:l}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const p=f.result;r([p])},onError(f){n==null||n(f)}});d=l,u||d()}catch(l){n==null||n(l)}})(),()=>d()})()}function ah(e){var l,f,p;const{scheme:t,statement:n,...r}=((l=e.match(ch))==null?void 0:l.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((f=e.match(uh))==null?void 0:f.groups)??{},d=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const ch=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,uh=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function dh(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||t&&!Zn(r.address,t))return!1}catch{return!1}return!0}async function lh(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,d=ah(s);if(!d.address||!dh({address:n,domain:r,message:d,nonce:o,scheme:i,time:c}))return!1;const f=za(s);return Xs(e,{address:d.address,hash:f,signature:a,...u})}function fh(e){return{call:t=>Jn(e,t),createAccessList:t=>Pa(e,t),createBlockFilter:()=>Ff(e),createContractEventFilter:t=>Fi(e,t),createEventFilter:t=>Aa(e,t),createPendingTransactionFilter:()=>Ba(e),estimateContractGas:t=>zl(e,t),estimateGas:t=>Cs(e,t),getBalance:t=>ia(e,t),getBlobBaseFee:()=>Of(e),getBlock:t=>Pe(e,t),getBlockNumber:t=>xn(e,t),getBlockTransactionCount:t=>Lf(e,t),getBytecode:t=>No(e,t),getChainId:()=>Nt(e),getCode:t=>No(e,t),getContractEvents:t=>aa(e,t),getEip712Domain:t=>of(e,t),getEnsAddress:t=>wf(e,t),getEnsAvatar:t=>Mf(e,t),getEnsName:t=>Nf(e,t),getEnsResolver:t=>zf(e,t),getEnsText:t=>Ea(e,t),getFeeHistory:t=>jf(e,t),estimateFeesPerGas:t=>vl(e,t),getFilterChanges:t=>Qn(e,t),getFilterLogs:t=>Uf(e,t),getGasPrice:()=>Bs(e),getLogs:t=>Ms(e,t),getProof:t=>m0(e,t),estimateMaxPriorityFeePerGas:t=>xl(e,t),getStorageAt:t=>y0(e,t),getTransaction:t=>js(e,t),getTransactionConfirmations:t=>b0(e,t),getTransactionCount:t=>Is(e,t),getTransactionReceipt:t=>Yr(e,t),multicall:t=>g0(e,t),prepareTransactionRequest:t=>Wn(e,t),readContract:t=>Re(e,t),sendRawTransaction:t=>Ns(e,t),simulate:t=>Qr(e,t),simulateBlocks:t=>Qr(e,t),simulateCalls:t=>Tp(e,t),simulateContract:t=>Zl(e,t),verifyMessage:t=>th(e,t),verifySiweMessage:t=>lh(e,t),verifyTypedData:t=>nh(e,t),uninstallFilter:t=>er(e,t),waitForTransactionReceipt:t=>rh(e,t),watchBlocks:t=>sh(e,t),watchBlockNumber:t=>uc(e,t),watchContractEvent:t=>tf(e,t),watchEvent:t=>oh(e,t),watchPendingTransactions:t=>ih(e,t)}}function ph(e){const{key:t="public",name:n="Public Client"}=e;return ba({...e,key:t,name:n,type:"publicClient"}).extend(fh)}function hh(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Yn({abi:n,args:r,bytecode:s});return zs(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function mh(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>hn(r))}async function yh(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function dc(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new ct({docsPath:"/docs/eip7702/prepareAuthorization"});const o=X(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:X(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await z(e,Nt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await z(e,Is,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&Zn(i.address,o.address))&&(a.nonce+=1)),a}async function bh(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ti(n))}async function gh(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function wh(e,t){const{account:n=e.account}=t;if(!n)throw new ct({docsPath:"/docs/eip7702/signAuthorization"});const r=X(n);if(!r.signAuthorization)throw new Sn({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await dc(e,t);return r.signAuthorization(s)}async function xh(e,{account:t=e.account,message:n}){if(!t)throw new ct({docsPath:"/docs/actions/wallet/signMessage"});const r=X(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?xt(n):n.raw instanceof Uint8Array?R(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function vh(e,t){var u,d,l,f;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ct({docsPath:"/docs/actions/wallet/signTransaction"});const o=X(n);it({account:o,...t});const i=await z(e,Nt,"getChainId")({});r!==null&&ma({currentChainId:i,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||Mt;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:(f=(l=e.chain)==null?void 0:l.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:F(i),from:o.address}]},{retryCount:0})}async function Eh(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new ct({docsPath:"/docs/actions/wallet/signTypedData"});const i=X(n),a={EIP712Domain:Ma({domain:r}),...t.types};if(ka({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=Zf({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Ph(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:F(t)}]},{retryCount:0})}async function Ah(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Bh(e){return{addChain:t=>cf(e,t),deployContract:t=>hh(e,t),getAddresses:()=>mh(e),getChainId:()=>Nt(e),getPermissions:()=>yh(e),prepareAuthorization:t=>dc(e,t),prepareTransactionRequest:t=>Wn(e,t),requestAddresses:()=>bh(e),requestPermissions:t=>gh(e,t),sendRawTransaction:t=>Ns(e,t),sendTransaction:t=>zs(e,t),signAuthorization:t=>wh(e,t),signMessage:t=>xh(e,t),signTransaction:t=>vh(e,t),signTypedData:t=>Eh(e,t),switchChain:t=>Ph(e,t),watchAsset:t=>Ah(e,t),writeContract:t=>rf(e,t)}}function Ih(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return ba({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Bh)}const $h={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Th={block:wl({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Vn(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?oe(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:bl({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?oe(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:c0({format(e){return{l1GasPrice:e.l1GasPrice?oe(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?oe(e.l1GasUsed):null,l1Fee:e.l1Fee?oe(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function Sh(e,t){return Mh(e)?kh(e):e0(e,t)}const Ch={transaction:Sh};function kh(e){Nh(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?R(i):"0x",c?R(c):"0x",s?R(s):"0x",o?"0x1":"0x",n??"0x"];return $e(["0x7e",qe(u)])}function Mh(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Nh(e){const{from:t,to:n}=e;if(t&&!te(t))throw new ie({address:t});if(n&&!te(n))throw new ie({address:n})}const zn={contracts:$h,formatters:Th,serializers:Ch},Dt=1,ar=Ia({...zn,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...zn.contracts,disputeGameFactory:{[Dt]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Dt]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Dt]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Dt]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Dt}),qt=11155111,zh=Ia({...zn,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...zn.contracts,disputeGameFactory:{[qt]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[qt]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[qt]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[qt]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:qt});var Fh=async(e,t)=>{let n=typeof t=="function"?await t(e):t;if(n)return e.scheme==="bearer"?`Bearer ${n}`:e.scheme==="basic"?`Basic ${btoa(n)}`:n},Oh={bodySerializer:e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n)},Lh=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},Rh=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},jh=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},lc=({allowReserved:e,explode:t,name:n,style:r,value:s})=>{if(!t){let a=(e?s:s.map(c=>encodeURIComponent(c))).join(Rh(r));switch(r){case"label":return`.${a}`;case"matrix":return`;${n}=${a}`;case"simple":return a;default:return`${n}=${a}`}}let o=Lh(r),i=s.map(a=>r==="label"||r==="simple"?e?a:encodeURIComponent(a):cr({allowReserved:e,name:n,value:a})).join(o);return r==="label"||r==="matrix"?o+i:i},cr=({allowReserved:e,name:t,value:n})=>{if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?n:encodeURIComponent(n)}`},fc=({allowReserved:e,explode:t,name:n,style:r,value:s})=>{if(s instanceof Date)return`${n}=${s.toISOString()}`;if(r!=="deepObject"&&!t){let a=[];Object.entries(s).forEach(([u,d])=>{a=[...a,u,e?d:encodeURIComponent(d)]});let c=a.join(",");switch(r){case"form":return`${n}=${c}`;case"label":return`.${c}`;case"matrix":return`;${n}=${c}`;default:return c}}let o=jh(r),i=Object.entries(s).map(([a,c])=>cr({allowReserved:e,name:r==="deepObject"?`${n}[${a}]`:a,value:c})).join(o);return r==="label"||r==="matrix"?o+i:i},Uh=/\{[^{}]+\}/g,_h=({path:e,url:t})=>{let n=t,r=t.match(Uh);if(r)for(let s of r){let o=!1,i=s.substring(1,s.length-1),a="simple";i.endsWith("*")&&(o=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(i=i.substring(1),a="label"):i.startsWith(";")&&(i=i.substring(1),a="matrix");let c=e[i];if(c==null)continue;if(Array.isArray(c)){n=n.replace(s,lc({explode:o,name:i,style:a,value:c}));continue}if(typeof c=="object"){n=n.replace(s,fc({explode:o,name:i,style:a,value:c}));continue}if(a==="matrix"){n=n.replace(s,`;${cr({name:i,value:c})}`);continue}let u=encodeURIComponent(a==="label"?`.${c}`:c);n=n.replace(s,u)}return n},pc=({allowReserved:e,array:t,object:n}={})=>r=>{let s=[];if(r&&typeof r=="object")for(let o in r){let i=r[o];if(i!=null){if(Array.isArray(i)){s=[...s,lc({allowReserved:e,explode:!0,name:o,style:"form",value:i,...t})];continue}if(typeof i=="object"){s=[...s,fc({allowReserved:e,explode:!0,name:o,style:"deepObject",value:i,...n})];continue}s=[...s,cr({allowReserved:e,name:o,value:i})]}}return s.join("&")},Dh=e=>{var n;if(!e)return"stream";let t=(n=e.split(";")[0])==null?void 0:n.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return"blob";if(t.startsWith("text/"))return"text"}},qh=async({security:e,...t})=>{for(let n of e){let r=await Fh(n,t.auth);if(!r)continue;let s=n.name??"Authorization";switch(n.in){case"query":t.query||(t.query={}),t.query[s]=r;break;case"cookie":t.headers.append("Cookie",`${s}=${r}`);break;case"header":default:t.headers.set(s,r);break}return}},Zo=e=>Gh({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:pc(e.querySerializer),url:e.url}),Gh=({baseUrl:e,path:t,query:n,querySerializer:r,url:s})=>{let o=s.startsWith("/")?s:`/${s}`,i=(e??"")+o;t&&(i=_h({path:t,url:i}));let a=n?r(n):"";return a.startsWith("?")&&(a=a.substring(1)),a&&(i+=`?${a}`),i},Ko=(e,t)=>{var r;let n={...e,...t};return(r=n.baseUrl)!=null&&r.endsWith("/")&&(n.baseUrl=n.baseUrl.substring(0,n.baseUrl.length-1)),n.headers=hc(e.headers,t.headers),n},hc=(...e)=>{let t=new Headers;for(let n of e){if(!n||typeof n!="object")continue;let r=n instanceof Headers?n.entries():Object.entries(n);for(let[s,o]of r)if(o===null)t.delete(s);else if(Array.isArray(o))for(let i of o)t.append(s,i);else o!==void 0&&t.set(s,typeof o=="object"?JSON.stringify(o):o)}return t},Tr=class{constructor(){eo(this,"_fns");this._fns=[]}clear(){this._fns=[]}exists(e){return this._fns.indexOf(e)!==-1}eject(e){let t=this._fns.indexOf(e);t!==-1&&(this._fns=[...this._fns.slice(0,t),...this._fns.slice(t+1)])}use(e){this._fns=[...this._fns,e]}},Hh=()=>({error:new Tr,request:new Tr,response:new Tr}),Vh=pc({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),Wh={"Content-Type":"application/json"},mc=(e={})=>({...Oh,headers:Wh,parseAs:"auto",querySerializer:Vh,...e}),Zh=(e={})=>{let t=Ko(mc(),e),n=()=>({...t}),r=i=>(t=Ko(t,i),n()),s=Hh(),o=async i=>{let a={...t,...i,fetch:i.fetch??t.fetch??globalThis.fetch,headers:hc(t.headers,i.headers)};a.security&&await qh({...a,security:a.security}),a.body&&a.bodySerializer&&(a.body=a.bodySerializer(a.body)),(a.body===void 0||a.body==="")&&a.headers.delete("Content-Type");let c=Zo(a),u={redirect:"follow",...a},d=new Request(c,u);for(let h of s.request._fns)d=await h(d,a);let l=a.fetch,f=await l(d);for(let h of s.response._fns)f=await h(f,d,a);let p={request:d,response:f};if(f.ok){if(f.status===204||f.headers.get("Content-Length")==="0")return{data:{},...p};let h=(a.parseAs==="auto"?Dh(f.headers.get("Content-Type")):a.parseAs)??"json";if(h==="stream")return{data:f.body,...p};let b=await f[h]();return h==="json"&&(a.responseValidator&&await a.responseValidator(b),a.responseTransformer&&(b=await a.responseTransformer(b))),{data:b,...p}}let y=await f.text();try{y=JSON.parse(y)}catch{}let m=y;for(let h of s.error._fns)m=await h(y,f,d,a);if(m=m||{},a.throwOnError)throw m;return{error:m,...p}};return{buildUrl:Zo,connect:i=>o({...i,method:"CONNECT"}),delete:i=>o({...i,method:"DELETE"}),get:i=>o({...i,method:"GET"}),getConfig:n,head:i=>o({...i,method:"HEAD"}),interceptors:s,options:i=>o({...i,method:"OPTIONS"}),patch:i=>o({...i,method:"PATCH"}),post:i=>o({...i,method:"POST"}),put:i=>o({...i,method:"PUT"}),request:o,setConfig:r,trace:i=>o({...i,method:"TRACE"})}},Kh=Sc[8453];ar.id+"";var Xh=e=>{var n;const t=(n=e==null?void 0:e.chain)==null?void 0:n.id;if(t!==ar.id&&t!==zh.id)throw new Error("Client network needs to be base or baseSepolia for current coin deployments.")};function Yh({name:e,symbol:t,uri:n,owners:r,payoutRecipient:s,initialPurchaseWei:o=0n,tickLower:i=-199200,platformReferrer:a="0x0000000000000000000000000000000000000000"}){return r||(r=[s]),{abi:Jo,functionName:"deploy",address:Kh,args:[s,r,n,e,t,a,"0x4200000000000000000000000000000000000006",i,o],value:o}}function Jh(e){var n;return(n=Kn({abi:Jo,logs:e.logs}).find(r=>r.eventName==="CoinCreated"))==null?void 0:n.args}async function Qh(e,t,n,r){Xh(n);const{request:s}=await n.simulateContract({...Yh(e),account:t.account});s.gas&&(s.gas=s.gas*BigInt(100)/100n);const o=await t.writeContract(s),i=await n.waitForTransactionReceipt({hash:o}),a=Jh(i);return{hash:o,receipt:i,address:a==null?void 0:a.coin,deployment:a}}Zh(mc({baseUrl:"https://api-sdk.zora.engineering/"}));const D={backgroundMusic:null,hammer:null,powerUp:null,hit:null,gameOver:null,milestone:null,tokenClaimed:null,isMusicMuted:!1,isSFXMuted:!1};function em(){D.backgroundMusic=new Audio("https://cdn.freesound.org/previews/560/560269_12131200-lq.mp3"),D.backgroundMusic.loop=!0,D.backgroundMusic.volume=.4,D.hammer=new Audio("https://lqy3lriiybxcejon.public.blob.vercel-storage.com/e2GNOD2X263E/metal-hit-94-200422-BJS84Lq2gne3CYahSXtphOnKM4ga63.mpeg?23Km"),D.powerUp=new Audio("https://lqy3lriiybxcejon.public.blob.vercel-storage.com/e2GNOD2X263E/metal-hit-94-200422-BJS84Lq2gne3CYahSXtphOnKM4ga63.mpeg?23Km"),D.hit=new Audio("https://lqy3lriiybxcejon.public.blob.vercel-storage.com/e2GNOD2X263E/metal-hit-94-200422-BJS84Lq2gne3CYahSXtphOnKM4ga63.mpeg?23Km"),D.gameOver=new Audio("https://lqy3lriiybxcejon.public.blob.vercel-storage.com/e2GNOD2X263E/metal-hit-94-200422-BJS84Lq2gne3CYahSXtphOnKM4ga63.mpeg?23Km"),D.milestone=new Audio("https://cdn.freesound.org/previews/270/270404_5123851-lq.mp3"),D.tokenClaimed=new Audio("https://cdn.freesound.org/previews/270/270402_5123851-lq.mp3"),D.hammer.volume=.2,D.powerUp.volume=.3,D.hit.volume=.3,D.gameOver.volume=.4,D.milestone.volume=.4,D.tokenClaimed.volume=.4}function ut(e){if(!D.isSFXMuted)try{const t=D[e];t&&(t.currentTime=0,t.play().catch(n=>console.log("Audio playback prevented:",n)))}catch(t){console.log("Sound playback failed:",t)}}function tm(){D.isMusicMuted=!D.isMusicMuted,document.getElementById("music-toggle").textContent=D.isMusicMuted?"":"",D.isMusicMuted?D.backgroundMusic.pause():D.backgroundMusic.play().catch(e=>console.log("Music playback prevented:",e))}function nm(){D.isSFXMuted=!D.isSFXMuted,document.getElementById("sfx-toggle").textContent=D.isSFXMuted?"":""}const V={initialLives:3,playerSpeed:6,hammerSpeed:4.5,enemySpeed:2.5,enemyCount:6,hammerDropChance:.025,powerUpChance:.008,shieldDuration:5e3,invincibilityTime:1e3,difficultyIncreaseInterval:1e4,scoreMultiplier:1,milestones:{50:{name:"Bronze Hammer",symbol:"BRHM",uri:"ipfs://QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/bronze-hammer.json"},100:{name:"Silver Hammer",symbol:"SLHM",uri:"ipfs://QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/silver-hammer.json"},200:{name:"Gold Hammer",symbol:"GDHM",uri:"ipfs://QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/gold-hammer.json"},300:{name:"Platinum Hammer",symbol:"PTHM",uri:"ipfs://QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/platinum-hammer.json"},500:{name:"Diamond Hammer",symbol:"DMHM",uri:"ipfs://QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/diamond-hammer.json"},1e3:{name:"Legendary Hammer",symbol:"LGHM",uri:"ipfs://QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/legendary-hammer.json"}}},x={state:"loading",score:0,lives:V.initialLives,player:{x:0,y:0,width:24,height:24,element:null,shielded:!1,invincible:!1},enemies:[],hammers:[],powerUps:[],keys:{left:!1,right:!1},animationFrameId:null,lastUpdateTime:0,isMobile:!1,touchStartX:0,shieldTimer:null,difficultyTimer:null,difficultyLevel:1,claimedMilestones:{},currentMilestone:null,isPaused:!1};let us,yc,bt;const rm=document.getElementById("score-container"),Xo=document.getElementById("wallet-status"),sm=document.getElementById("life-container");document.getElementById("player");const Z=document.getElementById("game-screen"),Ys=document.getElementById("start-screen"),bc=document.getElementById("instructions-screen"),Js=document.getElementById("game-over-screen"),om=document.getElementById("loading-screen"),im=document.getElementById("final-score"),Qs=document.getElementById("milestone-modal"),am=document.getElementById("milestone-title"),cm=document.getElementById("milestone-content"),gc=document.getElementById("token-success-modal"),um=document.getElementById("token-name"),dm=document.getElementById("token-symbol"),lm=document.getElementById("token-address"),wc=document.getElementById("connect-wallet-button"),fm=document.getElementById("instructions-button"),pm=document.getElementById("start-button"),hm=document.getElementById("back-to-menu"),mm=document.getElementById("restart-button"),ym=document.getElementById("menu-button"),Gt=document.getElementById("claim-token-button"),bm=document.getElementById("continue-button"),gm=document.getElementById("close-success-button"),wm=document.getElementById("music-toggle"),xm=document.getElementById("sfx-toggle");function vm(){om.style.display="flex",Bm(),Im(),xc(),em(),Em(),setTimeout(()=>{document.getElementById("loading-screen").style.display="none",x.state="start"},1e3)}function Em(){yc=ph({chain:ar,transport:yf("https://mainnet.base.org")})}async function Pm(){if(!window.ethereum){alert("Please install MetaMask to claim token rewards");return}try{bt=(await window.ethereum.request({method:"eth_requestAccounts"}))[0],us=Ih({account:bt,chain:ar,transport:ff(window.ethereum)}),Xo.textContent=`WALLET: ${bt.slice(0,6)}...${bt.slice(-4)}`,wc.style.display="none",await Am()}catch(e){console.error("Error connecting wallet:",e),Xo.textContent="WALLET: CONNECTION FAILED"}}async function Am(){try{if(await window.ethereum.request({method:"eth_chainId"})!=="0x2105")try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x2105"}]})}catch(t){if(t.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x2105",chainName:"Base",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.base.org"],blockExplorerUrls:["https://basescan.org"]}]})}catch(n){console.error("Error adding Base network:",n)}}}catch(e){console.error("Error ensuring Base network:",e)}}window.copyToClipboard=function(e){navigator.clipboard.writeText(e).then(()=>{alert("Token address copied to clipboard!")}).catch(t=>{console.error("Failed to copy: ",t)})};function Bm(){x.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function xc(){const e=document.getElementById("fence"),t=Z.clientWidth,n=Math.floor(t/30);e.innerHTML="";for(let r=0;r<n;r++){const s=document.createElement("div");s.className="fence-post",e.appendChild(s)}}function Im(){wc.addEventListener("click",Pm),fm.addEventListener("click",$m),pm.addEventListener("click",vc),hm.addEventListener("click",Yo),mm.addEventListener("click",Hm),ym.addEventListener("click",Yo),Gt.addEventListener("click",Dm),bm.addEventListener("click",_m),gm.addEventListener("click",qm),wm.addEventListener("click",tm),xm.addEventListener("click",nm),window.addEventListener("keydown",e=>{if(!x.isPaused)switch(e.key){case"ArrowLeft":case"a":case"A":x.keys.left=!0;break;case"ArrowRight":case"d":case"D":x.keys.right=!0;break}}),window.addEventListener("keyup",e=>{switch(e.key){case"ArrowLeft":case"a":case"A":x.keys.left=!1;break;case"ArrowRight":case"d":case"D":x.keys.right=!1;break}}),Z.addEventListener("touchstart",e=>{if(x.state!=="playing"||x.isPaused)return;const t=e.touches[0];x.touchStartX=t.clientX;const r=Z.clientWidth/2;t.clientX<r?(x.keys.left=!0,x.keys.right=!1):(x.keys.right=!0,x.keys.left=!1),e.preventDefault()}),Z.addEventListener("touchend",e=>{x.keys.left=!1,x.keys.right=!1,e.preventDefault()}),Z.addEventListener("touchmove",e=>{e.preventDefault()}),window.addEventListener("resize",xc)}function $m(){Ys.style.display="none",bc.style.display="flex"}function Yo(){x.state="start",x.isPaused=!1,Js.style.display="none",bc.style.display="none",Ys.style.display="flex",Ec()}function vc(){Ys.style.display="none",Ec(),Cm(),x.player.element=document.getElementById("player"),x.player.x=x.player.element.offsetLeft,x.player.y=x.player.element.offsetTop,x.lastUpdateTime=performance.now(),x.state="playing",x.isPaused=!1,Tm(),ur(),D.isMusicMuted||D.backgroundMusic.play().catch(e=>console.log("Music playback prevented:",e))}function Tm(){x.difficultyTimer&&clearInterval(x.difficultyTimer),x.difficultyTimer=setInterval(()=>{x.state==="playing"&&!x.isPaused&&(x.difficultyLevel++,V.hammerDropChance+=.005,V.scoreMultiplier+=.2,Z.classList.add("flash"),setTimeout(()=>{Z.classList.remove("flash")},200))},V.difficultyIncreaseInterval)}function Ec(){x.score=0,x.lives=V.initialLives,x.difficultyLevel=1,V.hammerDropChance=.025,V.scoreMultiplier=1,ln(),Ic(),Sm(),x.player.shielded=!1,x.player.invincible=!1,document.getElementById("shield").style.display="none",x.enemies=[],x.hammers=[],x.powerUps=[],x.currentMilestone=null,x.shieldTimer&&clearTimeout(x.shieldTimer),x.difficultyTimer&&clearInterval(x.difficultyTimer),x.animationFrameId&&cancelAnimationFrame(x.animationFrameId)}function Sm(){Z.querySelectorAll(".enemy, .hammer, .power-up, .cloud").forEach(t=>t.remove())}function Cm(){const e=Z.clientWidth;for(let t=0;t<V.enemyCount;t++)km(Math.random()*(e-30)+15,50+Math.random()*30);for(let t=0;t<3;t++)Mm();for(let t=0;t<2;t++){const n=x.enemies[Math.floor(Math.random()*x.enemies.length)];n&&Pc(n.x+n.width/2-6,n.y+n.height)}Ac()}function km(e,t){const n={x:e,y:t,width:16,height:16,velocityX:V.enemySpeed*(Math.random()>.5?1:-1),dropTimer:Math.floor(Math.random()*60),element:document.createElement("div")};n.element.className="enemy",n.element.style.left=`${n.x}px`,n.element.style.top=`${n.y}px`,Z.appendChild(n.element),x.enemies.push(n)}function Pc(e,t){const n={x:e,y:t,width:12,height:20,velocityY:V.hammerSpeed*(1+(x.difficultyLevel-1)*.1),element:document.createElement("div")};n.element.className="hammer",n.element.style.left=`${n.x}px`,n.element.style.top=`${n.y}px`,Z.appendChild(n.element),x.hammers.push(n),ut("hammer")}function Ac(){const e=Z.clientWidth,t={x:Math.random()*(e-20)+10,y:120,width:16,height:16,velocityY:1.5,element:document.createElement("div")};t.element.className="power-up",t.element.style.left=`${t.x}px`,t.element.style.top=`${t.y}px`,Z.appendChild(t.element),x.powerUps.push(t)}function Mm(){const e=Z.clientWidth,t=document.createElement("div");t.className="cloud",t.style.left=`${Math.random()*e}px`,Z.appendChild(t)}function ur(e){x.state!=="playing"||x.isPaused||(x.lastUpdateTime=e,x.score+=.01*x.difficultyLevel,ln(),Nm(),zm(),Fm(),Om(),jm(),Math.random()<V.powerUpChance&&Ac(),x.animationFrameId=requestAnimationFrame(ur))}function Nm(){const e=Z.clientWidth;x.keys.left&&(x.player.x-=V.playerSpeed),x.keys.right&&(x.player.x+=V.playerSpeed),x.player.x<0&&(x.player.x=0),x.player.x+x.player.width>e&&(x.player.x=e-x.player.width),x.player.element.style.left=`${x.player.x}px`}function zm(){const e=Z.clientWidth;x.enemies.forEach(t=>{t.x+=t.velocityX*(1+(x.difficultyLevel-1)*.05),(t.x<=0||t.x+t.width>=e)&&(t.velocityX*=-1,t.x+=t.velocityX),t.element.style.left=`${t.x}px`,t.dropTimer++;const n=V.hammerDropChance*(1+(x.difficultyLevel-1)*.2);t.dropTimer>60&&Math.random()<n&&(Pc(t.x+t.width/2-6,t.y+t.height),t.dropTimer=0)})}function Fm(){const e=Z.clientHeight-50;for(let t=x.hammers.length-1;t>=0;t--){const n=x.hammers[t];if(n.y+=n.velocityY,n.element.style.top=`${n.y}px`,n.y>=e-n.height){n.element.remove(),x.hammers.splice(t,1),x.score+=1*V.scoreMultiplier,ln();continue}Bc(n,x.player)&&(x.player.shielded?(x.score+=5*V.scoreMultiplier,ln(),ut("powerUp")):x.player.invincible||Rm(),n.element.remove(),x.hammers.splice(t,1))}}function Om(){const e=Z.clientHeight-50;for(let t=x.powerUps.length-1;t>=0;t--){const n=x.powerUps[t];if(n.y+=n.velocityY,n.element.style.top=`${n.y}px`,n.y>=e-n.height){n.element.remove(),x.powerUps.splice(t,1);continue}Bc(n,x.player)&&(Lm(),x.score+=10*V.scoreMultiplier,ln(),n.element.remove(),x.powerUps.splice(t,1),ut("powerUp"))}}function Lm(){x.shieldTimer&&clearTimeout(x.shieldTimer),x.player.shielded=!0,document.getElementById("shield").style.display="block",x.shieldTimer=setTimeout(()=>{x.player.shielded=!1,document.getElementById("shield").style.display="none"},V.shieldDuration)}function Bc(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Rm(){x.player.invincible||(x.lives--,Ic(),ut("hit"),Z.classList.add("flash"),setTimeout(()=>{Z.classList.remove("flash")},200),x.player.invincible=!0,x.player.element.style.opacity=.5,setTimeout(()=>{x.player.invincible=!1,x.player.element.style.opacity=1},V.invincibilityTime),x.lives<=0&&Gm())}function ln(){const e=Math.floor(x.score);rm.textContent=`SCORE: ${e}`}function Ic(){const e=sm.querySelectorAll(".life");for(let t=0;t<e.length;t++)t<x.lives?e[t].style.visibility="visible":e[t].style.visibility="hidden"}function jm(){const e=Math.floor(x.score),t=Object.keys(V.milestones).map(Number).sort((n,r)=>n-r);for(const n of t)if(e>=n&&!x.claimedMilestones[n]&&x.currentMilestone!==n){Um(n);break}}function Um(e){x.isPaused=!0,x.currentMilestone=e;const t=V.milestones[e];am.textContent=`${t.name} Earned!`,cm.textContent=`Congratulations! You've reached ${e} points and earned a ${t.name} token. Claim it now to mint it on the blockchain.`,Qs.style.display="flex",ut("milestone")}function _m(){Qs.style.display="none",x.isPaused=!1,x.currentMilestone=null,x.lastUpdateTime=performance.now(),ur(x.lastUpdateTime)}async function Dm(){if(!bt||!us){alert("Please connect your wallet first");return}if(!x.currentMilestone)return;const e=x.currentMilestone,t=V.milestones[e];Gt.textContent="CLAIMING...",Gt.disabled=!0;try{const n=await Qh({name:t.name,symbol:t.symbol,uri:t.uri,payoutRecipient:bt,initialPurchaseWei:0n},us,yc);x.claimedMilestones[e]=!0,Qs.style.display="none",um.textContent=`Name: ${t.name}`,dm.textContent=`Symbol: ${t.symbol}`,lm.textContent=n.address,gc.style.display="flex",ut("tokenClaimed"),console.log(`Successfully claimed ${t.name} token at address: ${n.address}`)}catch(n){console.error("Error claiming token:",n),alert(`Failed to claim token: ${n.message}`),Gt.textContent="CLAIM TOKEN",Gt.disabled=!1}}function qm(){gc.style.display="none",x.isPaused=!1,x.currentMilestone=null,x.lastUpdateTime=performance.now(),ur(x.lastUpdateTime)}function Gm(){x.state="gameOver",x.isPaused=!0,cancelAnimationFrame(x.animationFrameId),clearInterval(x.difficultyTimer),im.textContent=`SCORE: ${Math.floor(x.score)}`,Js.style.display="flex",D.backgroundMusic.pause(),ut("gameOver")}function Hm(){Js.style.display="none",vc()}window.addEventListener("DOMContentLoaded",vm);export{v as B,Ht as H,Oe as a,Ae as b,Jn as c,Rd as d,Ct as e,ws as g,Zn as i,ee as s};
